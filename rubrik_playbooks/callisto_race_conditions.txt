Running tests
Running: /usr/local/go/bin/go test -race -timeout 120m ./data_tunnel/...
Test Log:
 ?    rubrik/data_tunnel  [no test files]
?     rubrik/data_tunnel/enums  [no test files]
?     rubrik/data_tunnel/factory  [no test files]
?     rubrik/data_tunnel/internal/client  [no test files]
?     rubrik/data_tunnel/internal/client/mocks  [no test files]
?     rubrik/data_tunnel/internal/factory [no test files]
?     rubrik/data_tunnel/internal/factory/mocks [no test files]
?     rubrik/data_tunnel/internal/server  [no test files]
?     rubrik/data_tunnel/internal/server/mocks  [no test files]
?     rubrik/data_tunnel/internal/utils/chisel  [no test files]
ok    rubrik/data_tunnel/client (cached)
?     rubrik/data_tunnel/utils  [no test files]
ok    rubrik/data_tunnel/server (cached)

Running: /usr/local/go/bin/go test -race -timeout 120m ./yoda/...
Test Log:
 ?    rubrik/yoda/tool/dataintegrity/common [no test files]
?     rubrik/yoda/tool/dataintegrity/generator  [no test files]
?     rubrik/yoda/tool/dataintegrity/hasher [no test files]
?     rubrik/yoda/util  [no test files]
ok    rubrik/yoda/tool/dataintegrity/generator/generator  (cached)
ok    rubrik/yoda/tool/dataintegrity/hasher/hasher  (cached)

Running: /usr/local/go/bin/go test -race -timeout 120m ./util/...
Test Log:
 ?    rubrik/util/auth  [no test files]
?     rubrik/util/cdmversion  [no test files]
ok    rubrik/util/autoflushbuffers  (cached)
ok    rubrik/util/caller  (cached)
?     rubrik/util/clouduploadlib  [no test files]
?     rubrik/util/cluster [no test files]
?     rubrik/util/cqlutil [no test files]
?     rubrik/util/debug/profiledump/meta  [no test files]
ok    rubrik/util/crdbutil  (cached)
ok    rubrik/util/debug/profiledump (cached)
ok    rubrik/util/debug/profiledump/profilers (cached)
?     rubrik/util/graphiteutil  [no test files]
ok    rubrik/util/debug/profiledump/storage (cached)
ok    rubrik/util/filelock  (cached)
ok    rubrik/util/flag  (cached)
ok    rubrik/util/fsutil  (cached)
ok    rubrik/util/humanizeutil  (cached)
?     rubrik/util/log/logflags  [no test files]
?     rubrik/util/mysqlutil [no test files]
ok    rubrik/util/log (cached)
?     rubrik/util/service [no test files]
ok    rubrik/util/netutil (cached)
ok    rubrik/util/numberutil  (cached)
ok    rubrik/util/randutil  (cached)
?     rubrik/util/testutils [no test files]
ok    rubrik/util/retry (cached)
ok    rubrik/util/sqlutil (cached)
ok    rubrik/util/teardown  (cached)
ok    rubrik/util/thriftstatus  (cached)
ok    rubrik/util/time  (cached)

Running: /usr/local/go/bin/go test -race -timeout 120m ./callisto/...
-------------------- Output of command begins --------------------
?     rubrik/callisto/cdc/cdc_restore_tool  [no test files]
?     rubrik/callisto/cdc/cdc_restore_tool/cli  [no test files]
ok    rubrik/callisto/cdc/cdc_restore_tool/pipelines  (cached)
?     rubrik/callisto/cdc/cdc_restore_tool/shard_server [no test files]
?     rubrik/callisto/cdc/cdc_restore_tool/utils/buckets  [no test files]
?     rubrik/callisto/cdc/cdc_restore_tool/utils/config [no test files]
?     rubrik/callisto/cdc/cdc_restore_tool/utils/counter  [no test files]
?     rubrik/callisto/cdc/publisher/cdc_data_publisher  [no test files]
?     rubrik/callisto/cdc/publisher/common  [no test files]
?     rubrik/callisto/cdc/publisher/common/metrics  [no test files]
?     rubrik/callisto/cdc/publisher/integration_tests/correctness_test  [no test files]
?     rubrik/callisto/cdc/publisher/orm/models  [no test files]
?     rubrik/callisto/cdc/publisher/publisher/mocks [no test files]
?     rubrik/callisto/cdc/publisher/store/mocks [no test files]
?     rubrik/callisto/common/cockroach  [no test files]
?     rubrik/callisto/common/debugrouter  [no test files]
?     rubrik/callisto/common/httpclient [no test files]
?     rubrik/callisto/common/oauthclient  [no test files]
?     rubrik/callisto/config  [no test files]
?     rubrik/callisto/election/consensus/mocks  [no test files]
?     rubrik/callisto/election/constants  [no test files]
?     rubrik/callisto/election/logger [no test files]
?     rubrik/callisto/election/mocks  [no test files]
?     rubrik/callisto/election/models [no test files]
?     rubrik/callisto/election/peers  [no test files]
?     rubrik/callisto/election/peers/mocks  [no test files]
?     rubrik/callisto/election/quorumconfig [no test files]
?     rubrik/callisto/election/repositories [no test files]
?     rubrik/callisto/election/repositories/mocks [no test files]
?     rubrik/callisto/election/state  [no test files]
?     rubrik/callisto/election/state/mocks  [no test files]
==================
WARNING: DATA RACE
Read at 0x00c000134948 by goroutine 9:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.CountQueries()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink_test.go:157 +0x58
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestCrDBSink_RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink_test.go:141 +0x606
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000134948 by goroutine 12:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*FakeDbClient).Exec()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/db_clients_fakes.go:49 +0xe6
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*DbConnectionPool).Exec.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/db_clients_utils.go:116 +0xcb
  rubrik/util/retry.WithExponentialBackOff.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:169 +0x30
  rubrik/util/retry.WithExponentialBackOffAndAttemptCnt()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:183 +0x1b8
  rubrik/util/retry.WithExponentialBackOff()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:168 +0x108
  rubrik/util/retry.WithMaxAttempts()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:205 +0x13d
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*DbConnectionPool).Exec()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/db_clients_utils.go:103 +0x159
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*CrDBSink).runQuery()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink.go:216 +0xab
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*CrDBSink).applyBatchToCrdb()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink.go:202 +0x84
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*CrDBSink).writeMessagesToDB()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink.go:168 +0x7ed
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*CrDBSink).writeMessagesToDB-fm()
      <autogenerated>:1 +0x6d
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).lockAndFlushSingleBucket()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:216 +0x363
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).flushSingleBucketIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:181 +0x21e
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).Flush()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:162 +0xd8
  rubrik/util/autoflushbuffers.(*BucketedMessageBuffer[...]).finalFlushForIndividualChildBuckets()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/bucketed_message_buffer.go:247 +0x19b
  rubrik/util/autoflushbuffers.(*BucketedMessageBuffer[...]).Flush()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/bucketed_message_buffer.go:216 +0x6d
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*CrDBSink).cleanup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink.go:115 +0x5b
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*CrDBSink).RunLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink.go:109 +0x3f6
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestCrDBSink_RunLoop.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink_test.go:137 +0x64

Goroutine 9 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestCrDBSink_RunLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink_test.go:120 +0xe88
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 12 (finished) created at:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestCrDBSink_RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink_test.go:137 +0x5ba
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c0003074a0 by goroutine 9:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.CountQueries()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink_test.go:157 +0x97
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestCrDBSink_RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink_test.go:141 +0x606
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c0003074a0 by goroutine 12:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*FakeDbClient).Exec()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/db_clients_fakes.go:49 +0xa5
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*DbConnectionPool).Exec.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/db_clients_utils.go:116 +0xcb
  rubrik/util/retry.WithExponentialBackOff.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:169 +0x30
  rubrik/util/retry.WithExponentialBackOffAndAttemptCnt()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:183 +0x1b8
  rubrik/util/retry.WithExponentialBackOff()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:168 +0x108
  rubrik/util/retry.WithMaxAttempts()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:205 +0x13d
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*DbConnectionPool).Exec()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/db_clients_utils.go:103 +0x159
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*CrDBSink).runQuery()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink.go:216 +0xab
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*CrDBSink).applyBatchToCrdb()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink.go:202 +0x84
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*CrDBSink).writeMessagesToDB()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink.go:168 +0x7ed
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*CrDBSink).writeMessagesToDB-fm()
      <autogenerated>:1 +0x6d
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).lockAndFlushSingleBucket()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:216 +0x363
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).flushSingleBucketIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:181 +0x21e
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).Flush()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:162 +0xd8
  rubrik/util/autoflushbuffers.(*BucketedMessageBuffer[...]).finalFlushForIndividualChildBuckets()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/bucketed_message_buffer.go:247 +0x19b
  rubrik/util/autoflushbuffers.(*BucketedMessageBuffer[...]).Flush()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/bucketed_message_buffer.go:216 +0x6d
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*CrDBSink).cleanup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink.go:115 +0x5b
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*CrDBSink).RunLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink.go:109 +0x3f6
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestCrDBSink_RunLoop.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink_test.go:137 +0x64

Goroutine 9 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestCrDBSink_RunLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink_test.go:120 +0xe88
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 12 (finished) created at:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestCrDBSink_RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/crdb_sink_test.go:137 +0x5ba
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestCrDBSink_RunLoop (6.01s)
    --- FAIL: TestCrDBSink_RunLoop/all_the_events_should_be_dumped_into_queries (3.01s)
        testing.go:1446: race detected during execution of test
    testing.go:1446: race detected during execution of test
==================
WARNING: DATA RACE
Read at 0x00c00028e690 by goroutine 28:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:148 +0x591
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c00028e690 by goroutine 31:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*FakeCDCShardingServiceClient).SendEvent()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_clients_fakes.go:64 +0x17b
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.sendUnaryMessage()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:179 +0x1cb
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).sendEventsBatch()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:154 +0xbd
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).sendEventsToPeer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:136 +0x16f
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).sendEventsToPeer-fm()
      <autogenerated>:1 +0x6d
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).lockAndFlushSingleBucket()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:216 +0x363
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).flushSingleBucketIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:181 +0x21e
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).Flush()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:162 +0xd8
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).cleanup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:191 +0xae
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:91 +0x58
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:144 +0x64

Goroutine 28 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:126 +0x102b
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (finished) created at:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:144 +0x55d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c00013d590 by goroutine 28:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.countSentEvents()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:166 +0x5c4
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:148 +0x585
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c00013d590 by goroutine 31:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*FakeCDCShardingServiceClient).SendEvent()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_clients_fakes.go:64 +0x135
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.sendUnaryMessage()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:179 +0x1cb
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).sendEventsBatch()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:154 +0xbd
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).sendEventsToPeer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:136 +0x16f
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).sendEventsToPeer-fm()
      <autogenerated>:1 +0x6d
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).lockAndFlushSingleBucket()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:216 +0x363
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).flushSingleBucketIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:181 +0x21e
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).Flush()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:162 +0xd8
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).cleanup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:191 +0xae
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:91 +0x58
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:144 +0x64

Goroutine 28 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:126 +0x102b
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (finished) created at:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:144 +0x55d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c00048a000 by goroutine 28:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.countSentEvents()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:167 +0x5e4
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:148 +0x585
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c00048a000 by goroutine 31:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.sendUnaryMessage()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:176 +0x73
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).sendEventsBatch()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:154 +0xbd
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).sendEventsToPeer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:136 +0x16f
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).sendEventsToPeer-fm()
      <autogenerated>:1 +0x6d
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).lockAndFlushSingleBucket()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:216 +0x363
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).flushSingleBucketIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:181 +0x21e
  rubrik/util/autoflushbuffers.(*MessageBuffer[...]).Flush()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/autoflushbuffers/message_buffer.go:162 +0xd8
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).cleanup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:191 +0xae
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:91 +0x58
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:144 +0x64

Goroutine 28 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:126 +0x102b
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (finished) created at:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:144 +0x55d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c00028e6a8 by goroutine 28:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:149 +0x631
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c00028e6a8 by goroutine 31:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*FakeCDCShardingServiceClient).TaskDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_clients_fakes.go:73 +0x17b
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).cleanup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:196 +0x221
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.(*GrpcSink).RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink.go:91 +0x58
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:144 +0x64

Goroutine 28 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:126 +0x102b
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (finished) created at:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:144 +0x55d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Write at 0x00c00013d510 by goroutine 24:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:125 +0x108d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous read at 0x00c00013d510 by goroutine 30:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1.1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:138 +0x44

Goroutine 24 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:55 +0x2e9

Goroutine 30 (finished) created at:
  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink.TestGrpcSink_RunLoop.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink/grpc_sink_test.go:137 +0x445
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestGrpcSink_RunLoop (6.00s)
    --- FAIL: TestGrpcSink_RunLoop/all_the_events_should_be_flushed (2.00s)
        testing.go:1446: race detected during execution of test
    testing.go:1446: race detected during execution of test
FAIL
FAIL  rubrik/callisto/cdc/cdc_restore_tool/pipelines/sink 12.030s
ok    rubrik/callisto/cdc/cdc_restore_tool/pipelines/source (cached)
ok    rubrik/callisto/cdc/cdc_restore_tool/pipelines/via  (cached)
ok    rubrik/callisto/cdc/cdc_restore_tool/utils/checks (cached)
ok    rubrik/callisto/cdc/cdc_restore_tool/utils/eventparser  (cached)
ok    rubrik/callisto/cdc/cdc_restore_tool/utils/fsutils  (cached)
ok    rubrik/callisto/cdc/cdc_utils/rscanner  (cached)
ok    rubrik/callisto/cdc/datagen (cached)
ok    rubrik/callisto/cdc/publisher/common/datarecord (cached)
ok    rubrik/callisto/cdc/publisher/common/persistence  (cached)
==================
WARNING: DATA RACE
Write at 0x00c000466e70 by goroutine 31:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:750 +0x18a4
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous read at 0x00c000466e70 by goroutine 32:
  rubrik/callisto/cdc/publisher/coordinator.(*JobDispatcher).Assign()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:95 +0x5c4
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:737 +0xa4

Goroutine 31 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9

Goroutine 32 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:736 +0x1785
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000466630 by goroutine 32:
  rubrik/callisto/cdc/publisher/coordinator.getSegmentMap()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/task_manager.go:316 +0xfa
  rubrik/callisto/cdc/publisher/coordinator.getCompletedTasks()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:228 +0x6d
  rubrik/callisto/cdc/publisher/coordinator.(*JobDispatcher).Assign()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:94 +0x5f4
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:737 +0xa4

Previous write at 0x00c000466630 by goroutine 31:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:752 +0x17f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 32 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:736 +0x1785
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000466640 by goroutine 32:
  rubrik/callisto/cdc/publisher/coordinator.getSegmentMap()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/task_manager.go:316 +0x12d
  rubrik/callisto/cdc/publisher/coordinator.getCompletedTasks()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:228 +0x6d
  rubrik/callisto/cdc/publisher/coordinator.(*JobDispatcher).Assign()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:94 +0x5f4
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:737 +0xa4

Previous write at 0x00c000466640 by goroutine 31:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:753 +0x183d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 32 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:736 +0x1785
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000466650 by goroutine 32:
  rubrik/callisto/cdc/publisher/coordinator.getSegmentMap()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/task_manager.go:316 +0x194
  rubrik/callisto/cdc/publisher/coordinator.getCompletedTasks()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:228 +0x6d
  rubrik/callisto/cdc/publisher/coordinator.(*JobDispatcher).Assign()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:94 +0x5f4
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:737 +0xa4

Previous write at 0x00c000466650 by goroutine 31:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:754 +0x1884
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 32 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:736 +0x1785
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Write at 0x00c000466e70 by goroutine 31:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:771 +0x1b24
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous read at 0x00c000466e70 by goroutine 32:
  rubrik/callisto/cdc/publisher/coordinator.(*JobDispatcher).Assign()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:95 +0x5c4
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:737 +0xa4

Goroutine 31 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9

Goroutine 32 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:736 +0x1785
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c0000ea0a8 by goroutine 32:
  rubrik/callisto/cdc/publisher/coordinator.getSegmentMap()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/task_manager.go:316 +0xfa
  rubrik/callisto/cdc/publisher/coordinator.getCompletedTasks()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:228 +0x6d
  rubrik/callisto/cdc/publisher/coordinator.(*JobDispatcher).Assign()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:94 +0x5f4
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:737 +0xa4

Previous write at 0x00c0000ea0a8 by goroutine 31:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:310 +0x0
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:771 +0x1b16
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 32 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:736 +0x1785
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c0000ea0b8 by goroutine 32:
  rubrik/callisto/cdc/publisher/coordinator.getSegmentMap()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/task_manager.go:316 +0x12d
  rubrik/callisto/cdc/publisher/coordinator.getCompletedTasks()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:228 +0x6d
  rubrik/callisto/cdc/publisher/coordinator.(*JobDispatcher).Assign()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:94 +0x5f4
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:737 +0xa4

Previous write at 0x00c0000ea0b8 by goroutine 31:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:310 +0x0
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:771 +0x1b16
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 32 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:736 +0x1785
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c0000ea0c8 by goroutine 32:
  rubrik/callisto/cdc/publisher/coordinator.getSegmentMap()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/task_manager.go:316 +0x194
  rubrik/callisto/cdc/publisher/coordinator.getCompletedTasks()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:228 +0x6d
  rubrik/callisto/cdc/publisher/coordinator.(*JobDispatcher).Assign()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:94 +0x5f4
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:737 +0xa4

Previous write at 0x00c0000ea0c8 by goroutine 31:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:310 +0x0
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:771 +0x1b16
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 32 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:736 +0x1785
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Write at 0x00c000466e70 by goroutine 31:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:794 +0x1ca5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous read at 0x00c000466e70 by goroutine 32:
  rubrik/callisto/cdc/publisher/coordinator.(*JobDispatcher).Assign()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:95 +0x5c4
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:737 +0xa4

Goroutine 31 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9

Goroutine 32 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:736 +0x1785
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c0000e0168 by goroutine 32:
  rubrik/callisto/cdc/publisher/coordinator.getSegmentMap()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/task_manager.go:316 +0xfa
  rubrik/callisto/cdc/publisher/coordinator.getCompletedTasks()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:228 +0x6d
  rubrik/callisto/cdc/publisher/coordinator.(*JobDispatcher).Assign()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:94 +0x5f4
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:737 +0xa4

Previous write at 0x00c0000e0168 by goroutine 31:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:310 +0x0
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:794 +0x1c98
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 32 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:736 +0x1785
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c0000e0178 by goroutine 32:
  rubrik/callisto/cdc/publisher/coordinator.getSegmentMap()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/task_manager.go:316 +0x12d
  rubrik/callisto/cdc/publisher/coordinator.getCompletedTasks()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:228 +0x6d
  rubrik/callisto/cdc/publisher/coordinator.(*JobDispatcher).Assign()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:94 +0x5f4
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:737 +0xa4

Previous write at 0x00c0000e0178 by goroutine 31:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:310 +0x0
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:794 +0x1c98
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 32 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:736 +0x1785
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c0000e0188 by goroutine 32:
  rubrik/callisto/cdc/publisher/coordinator.getSegmentMap()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/task_manager.go:316 +0x194
  rubrik/callisto/cdc/publisher/coordinator.getCompletedTasks()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:228 +0x6d
  rubrik/callisto/cdc/publisher/coordinator.(*JobDispatcher).Assign()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher.go:94 +0x5f4
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:737 +0xa4

Previous write at 0x00c0000e0188 by goroutine 31:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:310 +0x0
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:794 +0x1c98
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 32 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:736 +0x1785
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Write at 0x00c0004b5aef by goroutine 32:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:741 +0x130

Previous read at 0x00c0004b5aef by goroutine 31:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:761 +0x191c
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 32 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestTaskLevelScheduling()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:736 +0x1785
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 31 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
--- FAIL: TestTaskLevelScheduling (1.31s)
    testing.go:1446: race detected during execution of test
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 371978027}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 38, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 372092310}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 38, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 372174223}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 38, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 372242522}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 38, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
For level: 0
  Node: 0
    Task: &{a d X {0 15 [{Node1 /cdc/storage/file1}]}}
      Child: &{a d X {15 18 [{Node1 /cdc/storage/file2}]}}
  Node: 1
    Task: &{f j X {0 8 [{Node1 /cdc/storage/file1}]}}
      Child: &{f j X {8 10 [{Node1 /cdc/storage/file2}]}}
For level: 1
  Node: 0
    Task: &{a d X {15 18 [{Node1 /cdc/storage/file2}]}}
  Node: 1
    Task: &{f j X {8 10 [{Node1 /cdc/storage/file2}]}}

WA: {1d38141e-e68f-4604-a731-a54c7676401d 2023-11-21 08:48:31.372531759 +0000 UTC m=+1.323861511 Node1  UNPROCESSED [0xc0001b2d40 0xc0001b2d80]}
  Job: 0 | 15 | a | d | X | /cdc/storage/file1
  Job: 0 | 8 | f | j | X | /cdc/storage/file1
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 475569099}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 39, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 475627589}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 39, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 475684431}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 39, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 475729575}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 39, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
For level: 0
  Node: 0
    Task: &{a d X {0 15 [{Node1 /cdc/storage/file1}]}}
      Child: &{a d X {15 18 [{Node1 /cdc/storage/file2}]}}
  Node: 1
    Task: &{f j X {0 8 [{Node1 /cdc/storage/file1}]}}
      Child: &{f j X {8 10 [{Node1 /cdc/storage/file2}]}}
For level: 1
  Node: 0
    Task: &{a d X {15 18 [{Node1 /cdc/storage/file2}]}}
  Node: 1
    Task: &{f j X {8 10 [{Node1 /cdc/storage/file2}]}}

WA: {3d22b464-410d-488a-accc-864ccbe463b7 2023-11-21 08:48:31.475879845 +0000 UTC m=+1.427209585 Node1  UNPROCESSED [0xc0001b3560 0xc0001b35a0]}
  Job: 0 | 15 | a | d | X | /cdc/storage/file1
  Job: 0 | 8 | f | j | X | /cdc/storage/file1
WA: {30f7f1c2-91d9-4757-8357-f3df0b1132cd 2023-11-21 08:48:31.486187248 +0000 UTC m=+1.437516989 Node1  UNPROCESSED [0xc0001b34e0 0xc0001b3520]}
  Job: 15 | 18 | a | d | X | /cdc/storage/file2
  Job: 8 | 10 | f | j | X | /cdc/storage/file2
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 497053694}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 40, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 497125168}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 40, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 497184963}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 40, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 497248590}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 40, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
For level: 0
  Node: 0
    Task: &{a d X {0 15 [{Node1 /cdc/storage/file1}]}}
      Child: &{a d X {15 18 [{Node1 /cdc/storage/file2}]}}
  Node: 1
    Task: &{f j X {0 8 [{Node1 /cdc/storage/file1}]}}
      Child: &{f j X {8 10 [{Node1 /cdc/storage/file2}]}}
For level: 1
  Node: 0
    Task: &{a d X {15 18 [{Node1 /cdc/storage/file2}]}}
  Node: 1
    Task: &{f j X {8 10 [{Node1 /cdc/storage/file2}]}}

WA: {6ce4d2e7-6f0e-4c64-9936-8d521fcae39e 2023-11-21 08:48:31.497415422 +0000 UTC m=+1.448745163 Node1  UNPROCESSED [0xc0001b3c40 0xc0001b3c80]}
  Job: 0 | 15 | a | d | X | /cdc/storage/file1
  Job: 0 | 8 | f | j | X | /cdc/storage/file1
For level: 0
  Node: 0
    Task: &{a e X {0 10 [{Node1 /cdc/storage/file1}]}}
      Child: &{a c X {10 18 [{Node1 /cdc/storage/file1}]}}
      Child: &{c e X {10 15 [{Node1 /cdc/storage/file1}]}}
For level: 1
  Node: 0
    Task: &{a c X {10 18 [{Node1 /cdc/storage/file1}]}}
      Child: &{a d X {18 20 [{Node1 /cdc/storage/file1}]}}
  Node: 1
    Task: &{c e X {10 15 [{Node1 /cdc/storage/file1}]}}
      Child: &{c d X {15 18 [{Node1 /cdc/storage/file1}]}}
      Child: &{d e X {15 18 [{Node1 /cdc/storage/file1}]}}
For level: 2
  Node: 0
    Task: &{c d X {15 18 [{Node1 /cdc/storage/file1}]}}
      Child: &{a d X {18 20 [{Node1 /cdc/storage/file1}]}}
  Node: 1
    Task: &{d e X {15 18 [{Node1 /cdc/storage/file1}]}}
For level: 3
  Node: 0
    Task: &{a d X {18 20 [{Node1 /cdc/storage/file1}]}}

WA: {fba67ebb-740d-4679-9735-f1d60a1687f1 2023-11-21 08:48:31.599987533 +0000 UTC m=+1.551317277 Node1  UNPROCESSED [0xc0004e44e0]}
  Job: 0 | 10 | a | e | X | /cdc/storage/file1
For level: 0
  Node: 0
    Task: &{a e X {0 10 [{Node1 /cdc/storage/file1}]}}
      Child: &{c e X {10 15 [{Node1 /cdc/storage/file1}]}}
      Child: &{a c X {10 18 [{Node1 /cdc/storage/file1}]}}
For level: 1
  Node: 0
    Task: &{c e X {10 15 [{Node1 /cdc/storage/file1}]}}
      Child: &{c d X {15 18 [{Node1 /cdc/storage/file1}]}}
      Child: &{d e X {15 18 [{Node1 /cdc/storage/file1}]}}
  Node: 1
    Task: &{a c X {10 18 [{Node1 /cdc/storage/file1}]}}
      Child: &{a d X {18 20 [{Node1 /cdc/storage/file1}]}}
For level: 2
  Node: 0
    Task: &{c d X {15 18 [{Node1 /cdc/storage/file1}]}}
      Child: &{a d X {18 20 [{Node1 /cdc/storage/file1}]}}
  Node: 1
    Task: &{d e X {15 18 [{Node1 /cdc/storage/file1}]}}
For level: 3
  Node: 0
    Task: &{a d X {18 20 [{Node1 /cdc/storage/file1}]}}

WA: {ef285f3b-8cad-4756-bc37-3d25d13a2665 2023-11-21 08:48:31.703291722 +0000 UTC m=+1.654621472 Node1  UNPROCESSED [0xc0004e4cc0]}
  Job: 0 | 10 | a | e | X | /cdc/storage/file1
WA: {4d63ffd6-889e-4be8-b6d1-9c6da899fee6 2023-11-21 08:48:31.713553694 +0000 UTC m=+1.664883435 Node1  UNPROCESSED [0xc0004e4d00 0xc0004e4d40]}
  Job: 10 | 15 | c | e | X | /cdc/storage/file1
  Job: 10 | 18 | a | c | X | /cdc/storage/file1
WA: {b95b5d8a-6f7e-462f-a993-98f2ec517ef9 2023-11-21 08:48:31.72384004 +0000 UTC m=+1.675169777 Node1  UNPROCESSED [0xc0004e4d80 0xc0004e4dc0]}
  Job: 15 | 18 | c | d | X | /cdc/storage/file1
  Job: 15 | 18 | d | e | X | /cdc/storage/file1
WA: {f33e45df-7867-4e83-92c3-3c468b5bb375 2023-11-21 08:48:31.73412029 +0000 UTC m=+1.685450030 Node1  UNPROCESSED [0xc0004e4c80]}
  Job: 18 | 20 | a | d | X | /cdc/storage/file1
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 744820885}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 43, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556511, "nanoOfSecond": 744873435}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 43, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
For level: 0
  Node: 0
    Task: &{a d X {0 15 [{Node1 /cdc/storage/file1}]}}
      Child: &{a d X {15 18 [{Node1 /cdc/storage/file2}]}}
  Node: 1
    Task: &{p z Y {0 7 [{Node2 /cdc/storage/file1}]}}
For level: 1
  Node: 0
    Task: &{a d X {15 18 [{Node1 /cdc/storage/file2}]}}

WA: {0bacc6ac-a8bc-4a9f-b2b9-a36b5de1e5c7 2023-11-21 08:48:31.74495778 +0000 UTC m=+1.696287516 Node1  UNPROCESSED [0xc0004e53a0]}
  Job: 0 | 15 | a | d | X | /cdc/storage/file1
WA: {a7a1f5c0-5894-4526-919c-fd6efcfd53c8 2023-11-21 08:48:31.744961036 +0000 UTC m=+1.696290771 Node2  UNPROCESSED [0xc0004e53e0]}
  Job: 0 | 7 | p | z | Y | /cdc/storage/file1
==================
WARNING: DATA RACE
Read at 0x00c00045028f by goroutine 42:
  rubrik/callisto/cdc/publisher/coordinator.TestAssignLoopInterruption()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:1338 +0xa55
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c00045028f by goroutine 43:
  rubrik/callisto/cdc/publisher/coordinator.TestAssignLoopInterruption.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:1325 +0x91

Goroutine 42 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9

Goroutine 43 (finished) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestAssignLoopInterruption()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/job_dispatcher_test.go:1323 +0x9ee
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestAssignLoopInterruption (0.40s)
    testing.go:1446: race detected during execution of test
{"level": "ERROR", "instant": {"epochSecond": 1700556515, "nanoOfSecond": 251605742}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 33, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
Range id: {a:d X}
  Chunk0: From: 0, Till: 15, LocationCount: 2
    {Node1 /cdc/storage/file1}
    {Node2 /cdc/storage/file1}

  Chunk1: From: 15, Till: 18, LocationCount: 2
    {Node2 /cdc/storage/file1}
    {Node1 /cdc/storage/file2}

{"level": "ERROR", "instant": {"epochSecond": 1700556515, "nanoOfSecond": 252228150}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 50, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
Range id: {a:d X}
  Chunk0: From: 0, Till: 15, LocationCount: 2
    {Node2 /cdc/storage/file1}
    {Node1 /cdc/storage/file1}

  Chunk1: From: 15, Till: 18, LocationCount: 2
    {Node2 /cdc/storage/file1}
    {Node1 /cdc/storage/file2}

{"level": "ERROR", "instant": {"epochSecond": 1700556515, "nanoOfSecond": 252743672}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 51, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556515, "nanoOfSecond": 252807109}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 51, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
Range id: {f:j X}
  Chunk0: From: 0, Till: 8, LocationCount: 1
    {Node1 /cdc/storage/file1}

  Chunk1: From: 8, Till: 10, LocationCount: 1
    {Node1 /cdc/storage/file2}

Range id: {a:d X}
  Chunk0: From: 0, Till: 15, LocationCount: 1
    {Node1 /cdc/storage/file1}

  Chunk1: From: 15, Till: 18, LocationCount: 1
    {Node1 /cdc/storage/file2}

Range id: {a:c X}
  Chunk0: From: 0, Till: 10, LocationCount: 1
    {Node1 /cdc/storage/file1}

Range id: {c:d X}
  Chunk0: From: 0, Till: 10, LocationCount: 1
    {Node1 /cdc/storage/file1}

Range id: {a:d X}
  Chunk0: From: 10, Till: 15, LocationCount: 1
    {Node1 /cdc/storage/file2}

Range id: {c:d X}
  Chunk0: From: 10, Till: 15, LocationCount: 1
    {Node1 /cdc/storage/file2}

Range id: {a:d X}
  Chunk0: From: 0, Till: 10, LocationCount: 1
    {Node1 /cdc/storage/file1}

Range id: {a:c X}
  Chunk0: From: 10, Till: 15, LocationCount: 1
    {Node1 /cdc/storage/file1}

{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 262018772}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 67, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
==================
WARNING: DATA RACE
Write at 0x00c00018e0e8 by goroutine 55:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForAllNodes.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/metadata_aggregator_test.go:588 +0x84

Previous read at 0x00c00018e0e8 by goroutine 54:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForAllNodes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/metadata_aggregator_test.go:615 +0x496
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 55 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForAllNodes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/metadata_aggregator_test.go:586 +0x345
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 54 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
--- FAIL: TestWaitForAllNodes (1.00s)
    testing.go:1446: race detected during execution of test
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 282108577}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/coordinator/node_aware_range_timeline.go:54", "threadId": 75, "message": "Hit error while persisting latest coordinator state, will delete partial state written and wait for next attempt to persist state. Error: injected error"}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 283430522}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/coordinator/stream_manager.go:460", "threadId": 120, "message": "No ReplayWork entries found for Stream S1"}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 286837286}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/coordinator/stream_manager.go:460", "threadId": 121, "message": "No ReplayWork entries found for Stream S1"}
For level: 0
  Node: 0
    Task: &{a d X {0 10 [{Node1 /cdc/storage/file1}]}}
For level: 1
  Node: 0
    Task: &{a c X {10 15 [{Node1 /cdc/storage/file1}]}}
  Node: 1
    Task: &{c d X {10 15 [{Node1 /cdc/storage/file2}]}}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 298406180}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 130, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 298438119}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 130, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 298466604}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 130, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 298489210}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 130, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
For level: 0
  Node: 0
    Task: &{f j X {0 8 [{Node1 /cdc/storage/file1}]}}
  Node: 1
    Task: &{a d X {0 15 [{Node1 /cdc/storage/file1}]}}
For level: 1
  Node: 0
    Task: &{f j X {8 10 [{Node1 /cdc/storage/file2}]}}
  Node: 1
    Task: &{a d X {15 18 [{Node1 /cdc/storage/file2}]}}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 298757715}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 131, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 298789860}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 131, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 298816012}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 131, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 298835499}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 131, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
For level: 0
  Node: 0
    Task: &{f j X {0 8 [{Node1 /cdc/storage/file1}]}}
  Node: 1
    Task: &{a d X {7 15 [{Node1 /cdc/storage/file1}]}}
For level: 1
  Node: 0
    Task: &{f j X {8 10 [{Node1 /cdc/storage/file2}]}}
  Node: 1
    Task: &{a d X {15 18 [{Node1 /cdc/storage/file2}]}}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 299109456}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 132, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 299137466}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 132, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 299165913}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 132, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 299185199}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 132, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
For level: 0
  Node: 0
    Task: &{f j X {0 8 [{Node1 /cdc/storage/file1}]}}
  Node: 1
    Task: &{a d X {9 15 [{Node1 /cdc/storage/file1}]}}
For level: 1
  Node: 0
    Task: &{f j X {8 10 [{Node1 /cdc/storage/file2}]}}
  Node: 1
    Task: &{a d X {15 18 [{Node1 /cdc/storage/file2}]}}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 299466377}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 133, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 299500357}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 133, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
{"level": "ERROR", "instant": {"epochSecond": 1700556516, "nanoOfSecond": 299529745}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/cdc_file_utils.go:40", "threadId": 133, "message": "[error=strconv.ParseInt: parsing \"file2\": invalid syntax] failed in creating CDCFile instance from given filepath:[/cdc/storage/file2]"}
For level: 0
  Node: 0
    Task: &{f j X {0 8 [{Node1 /cdc/storage/file1}]}}
  Node: 1
    Task: &{a d X {16 18 [{Node1 /cdc/storage/file2}]}}
For level: 1
  Node: 0
    Task: &{f j X {8 10 [{Node1 /cdc/storage/file2}]}}
==================
WARNING: DATA RACE
Write at 0x00c0001695f0 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).Write()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:259 +0x2dc
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:246 +0x1c8
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:758 +0x727
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous read at 0x00c0001695f0 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).ReadMatching()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:149 +0x664
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:115 +0x1e8
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c00012a418 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).ReadMatching()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:149 +0x6e9
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:115 +0x1e8
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c00012a418 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).Write()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:259 +0x299
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:246 +0x1c8
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:758 +0x727
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c0002bbb00 by goroutine 127:
  runtime.mapaccess1_faststr()
      /usr/local/go/src/runtime/map_faststr.go:13 +0x0
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).ReadMatching()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:159 +0xa9d
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:115 +0x1e8
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c0002bbb00 by goroutine 126:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).createRowForWrite()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:334 +0x55c
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:241 +0xc4
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:758 +0x727
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000389858 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).ReadMatching()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:159 +0xaaa
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:115 +0x1e8
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c000389858 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).createRowForWrite()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:334 +0x56b
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:241 +0xc4
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:758 +0x727
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Write at 0x00c0001695f0 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).Write()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:259 +0x2dc
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:246 +0x1c8
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:759 +0x74d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous read at 0x00c0001695f0 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).ReadMatching()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:149 +0x664
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:115 +0x1e8
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000389828 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).populateFields()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:370 +0x4f2
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:128 +0x3e4
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c000389828 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).createRowForWrite()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:334 +0x56b
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:241 +0xc4
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:758 +0x727
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c0001695f0 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).Write()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:258 +0x134
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:246 +0x1c8
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).Commit()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:123 +0x432
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:274 +0x624
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c0001695f0 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).Write()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:259 +0x2dc
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:246 +0x1c8
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:761 +0x796
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Write at 0x00c0003a8aa0 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).Write()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:261 +0x1e4
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:246 +0x1c8
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).Commit()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:123 +0x432
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:274 +0x624
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous read at 0x00c0003a8aa0 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.find()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:380 +0x26c
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).Write()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:258 +0x194
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:246 +0x1c8
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:761 +0x796
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c0002bbb30 by goroutine 127:
  runtime.mapaccess1_faststr()
      /usr/local/go/src/runtime/map_faststr.go:13 +0x0
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).ReadMatching()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:159 +0xa9d
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:115 +0x1e8
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c0002bbb30 by goroutine 126:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).createRowForWrite()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:334 +0x55c
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:241 +0xc4
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:759 +0x74d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000389978 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).ReadMatching()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:159 +0xaaa
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:115 +0x1e8
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c000389978 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).createRowForWrite()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:334 +0x56b
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:241 +0xc4
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:759 +0x74d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c0003a8ab0 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).ReadMatching()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:149 +0x6e9
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:115 +0x1e8
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c0003a8ab0 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).Write()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:259 +0x299
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:246 +0x1c8
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:760 +0x770
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c0002bbb60 by goroutine 127:
  runtime.mapaccess1_faststr()
      /usr/local/go/src/runtime/map_faststr.go:13 +0x0
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).ReadMatching()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:159 +0xa9d
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:115 +0x1e8
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c0002bbb60 by goroutine 126:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).createRowForWrite()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:334 +0x55c
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:241 +0xc4
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:760 +0x770
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000389a98 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).ReadMatching()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:159 +0xaaa
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:115 +0x1e8
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c000389a98 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).createRowForWrite()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:334 +0x56b
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:241 +0xc4
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:760 +0x770
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c0003a8ab8 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).ReadMatching()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:149 +0x6e9
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:115 +0x1e8
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c0003a8ab8 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).Write()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:259 +0x299
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:246 +0x1c8
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:761 +0x796
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c0002bbb90 by goroutine 127:
  runtime.mapaccess1_faststr()
      /usr/local/go/src/runtime/map_faststr.go:13 +0x0
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).ReadMatching()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:159 +0xa9d
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:115 +0x1e8
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c0002bbb90 by goroutine 126:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).createRowForWrite()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:334 +0x55c
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:241 +0xc4
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:761 +0x796
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000389bb8 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*StaticDataDBConnector).ReadMatching()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/static_data_db_connector.go:159 +0xaaa
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:115 +0x1e8
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c000389bb8 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).createRowForWrite()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:334 +0x56b
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:241 +0xc4
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:761 +0x796
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000389948 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).populateFields()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:370 +0x4f2
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:128 +0x3e4
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c000389948 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).createRowForWrite()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:334 +0x56b
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:241 +0xc4
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:759 +0x74d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000389a68 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).populateFields()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:370 +0x4f2
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:128 +0x3e4
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c000389a68 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).createRowForWrite()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:334 +0x56b
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:241 +0xc4
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:760 +0x770
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000389b88 by goroutine 127:
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).populateFields()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:370 +0x4f2
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).readAllMatchingObjectsImpl()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:128 +0x3e4
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).ReadAllMatchingObjects()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:95 +0x20a
  rubrik/callisto/cdc/publisher/store/repositories.(*crdbProgressReportRepository).GetSnapshot()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/store/repositories/crdb_progress_report_repository.go:35 +0xf1
  rubrik/callisto/cdc/publisher/coordinator.refreshTaskStatus()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:232 +0x73
  rubrik/callisto/cdc/publisher/coordinator.(*TCEJobDispatcher).waitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher.go:97 +0x412
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:750 +0x70

Previous write at 0x00c000389b88 by goroutine 126:
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).createRowForWrite()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:334 +0x56b
  rubrik/callisto/cdc/publisher/orm.(*ObjectManager).WriteObject()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/orm/object_manager.go:241 +0xc4
  rubrik/callisto/cdc/publisher/coordinator.writeProgressReport()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:683 +0x2c4
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:761 +0x796
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 127 (running) created at:
  rubrik/callisto/cdc/publisher/coordinator.TestWaitForCompletion()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/coordinator/tce_job_dispatcher_test.go:749 +0x6f5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 126 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:129 +0x2e9
==================
--- FAIL: TestWaitForCompletion (1.01s)
    testing.go:1446: race detected during execution of test
FAIL
FAIL  rubrik/callisto/cdc/publisher/coordinator 9.328s
I231121 08:48:30.061272 24 callisto/cdc/publisher/datastream/publish_strategy.go:552  [gcp-project=sample_proj,gcp-topic=sample_topic] topic already exists
I231121 08:48:30.061515 24 callisto/cdc/publisher/datastream/publish_strategy.go:528  Published following rows: 
DataEventPublished: some data
I231121 08:48:30.061677 24 callisto/cdc/publisher/datastream/publish_strategy.go:528  Published following rows: 
DataEventPublished: some data
I231121 08:48:30.062091 25 callisto/cdc/publisher/datastream/publish_strategy.go:552  [gcp-project=sample_proj,gcp-topic=sample_topic] topic already exists
E231121 08:48:30.062298 25 callisto/cdc/publisher/datastream/publish_strategy.go:505  [error=some error] unable to flush the packet to pub-sub with ordering-key:[1]
E231121 08:48:30.062469 25 callisto/cdc/publisher/datastream/publish_strategy.go:505  [error=some error] unable to flush the packet to pub-sub with ordering-key:[2]
E231121 08:48:30.062654 25 callisto/cdc/publisher/datastream/publish_strategy.go:505  [error=some error] unable to flush the packet to pub-sub with ordering-key:[1]
E231121 08:48:30.062814 25 callisto/cdc/publisher/datastream/publish_strategy.go:505  [error=some error] unable to flush the packet to pub-sub with ordering-key:[1]
I231121 08:48:30.063727 6 callisto/cdc/publisher/datastream/publish_strategy.go:552  [gcp-project=sample_proj,gcp-topic=sample_topic] topic already exists
I231121 08:48:30.064077 6 callisto/cdc/publisher/datastream/publish_strategy.go:564  [gcp-project=sample_proj,gcp-topic=sample_topic,gcp-project=other_project,gcp-topic=other_topic] topic:[other_topic] successfully created
I231121 08:48:30.064439 7 callisto/cdc/publisher/datastream/publish_strategy.go:552  [gcp-project=sample_proj,gcp-topic=sample_topic] topic already exists
I231121 08:48:30.065066 8 callisto/cdc/publisher/datastream/publish_strategy.go:552  [gcp-project=sample_proj,gcp-topic=sample_topic] topic already exists
I231121 08:48:30.065240 8 callisto/cdc/publisher/datastream/publish_strategy.go:552  [gcp-project=sample_proj,gcp-topic=sample_topic,gcp-project=other_project,gcp-topic=other_topic] topic already exists
I231121 08:48:30.065675 12 callisto/cdc/publisher/datastream/publish_strategy.go:552  [gcp-project=sample_proj,gcp-topic=sample_topic] topic already exists
==================
WARNING: DATA RACE
Read at 0x00c000012210 by goroutine 25:
  rubrik/callisto/cdc/publisher/datastream.TestBufferedPublishStrategy_AutoFlush()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/publish_strategy_test.go:1161 +0x175d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000012210 by goroutine 26:
  rubrik/callisto/cdc/publisher/datastream.(*InMemoryPublishStrategy).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/InMemoryPublishStrategy.go:28 +0xce
  rubrik/callisto/cdc/publisher/datastream.(*BufferedPublishStrategy).flushMuLocked()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/publish_strategy.go:273 +0x201
  rubrik/callisto/cdc/publisher/datastream.(*BufferedPublishStrategy).triggerFlush()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/publish_strategy.go:263 +0xce
  rubrik/callisto/cdc/publisher/datastream.(*BufferedPublishStrategy).startTimeBasedFlushing()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/publish_strategy.go:295 +0xf6
  rubrik/callisto/cdc/publisher/datastream.NewBufferedPublishStrategy.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/publish_strategy.go:255 +0x58

Goroutine 25 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:123 +0x2e9

Goroutine 26 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewBufferedPublishStrategy()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/publish_strategy.go:255 +0x444
  rubrik/callisto/cdc/publisher/datastream.TestBufferedPublishStrategy_AutoFlush()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/publish_strategy_test.go:1124 +0xd98
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestBufferedPublishStrategy_AutoFlush (3.00s)
    testing.go:1446: race detected during execution of test
E231121 08:48:33.070439 59 callisto/cdc/publisher/datastream/replay_work_sharding_strategy.go:69  Failed to get active nodes: no nodes read
W231121 08:48:33.072089 61 callisto/cdc/publisher/datastream/replay_work.go:180  tried processing work-item that is not marked active
W231121 08:48:33.072249 61 callisto/cdc/publisher/datastream/replay_work.go:161  tried processing work-item for a different node(Node ID: n1, Work Node ID: n2)
W231121 08:48:33.274293 77 callisto/cdc/publisher/datastream/replay_work.go:716  ReplayWork R1 timed out waiting for notification
W231121 08:48:33.275620 98 callisto/cdc/publisher/datastream/replay_work.go:419  Could not send notification for EOS for stream S1, err: <nil>
W231121 08:48:33.275936 100 callisto/cdc/publisher/datastream/replay_work.go:419  Could not send notification for EOS for stream S1, err: <nil>
W231121 08:48:33.276206 101 callisto/cdc/publisher/datastream/replay_work.go:419  Could not send notification for EOS for stream S1, err: <nil>
I231121 08:48:33.277153 78 cqlproxy/util/grpc.go:508  [component=[STREAM]] Starting gRPC services
I231121 08:48:33.277293 79 util/teardown/stop_join.go:101  [component=[STREAM]] 'grpc_svc' opened join-handle to 'server'
I231121 08:48:33.277971 104 callisto/cdc/publisher/datastream/server.go:176  [component=[STREAM]] Stream service initialized successfully
I231121 08:48:33.278059 80 callisto/cdc/publisher/datastream/server.go:253  [component=[STREAM]] [0] replay events aborted.
I231121 08:48:33.278829 95 callisto/cdc/publisher/datastream/stream_service.go:306  Received request: FetchFull: [stream_id:"ms_4856" table_name:"sla_domain" ]
I231121 08:48:33.279705 104 util/teardown/stop_join.go:45  [component=[STREAM]] 'test' requested stop (and join) of 'server'
I231121 08:48:33.279751 104 util/teardown/stop_join.go:51  [component=[STREAM]] 'test' stopped 'server'
I231121 08:48:33.279846 104 util/teardown/stop_join.go:56  [component=[STREAM]] 'server' is stopped, 'test' is awaiting join
I231121 08:48:33.279897 79 util/teardown/stop_join.go:93  [component=[STREAM]] 'server' stopped, unblocking stop-waiter 'grpc_svc/stopper'
I231121 08:48:33.279937 79 cqlproxy/util/grpc.go:520  [component=[STREAM]] Stopping gRPC services
I231121 08:48:33.280015 79 util/teardown/stop_join.go:115  [component=[STREAM]] 'grpc_svc' closed join-handle to 'server'
I231121 08:48:33.280058 104 util/teardown/stop_join.go:59  [component=[STREAM]] 'server' joined into 'test'
I231121 08:48:33.281434 146 callisto/cdc/publisher/datastream/stream_service.go:306  Received request: FetchFull: [stream_id:" " ]
I231121 08:48:33.281488 146 callisto/cdc/publisher/datastream/stream_service.go:306  Received request: FetchFull: [stream_id:"ms_1756" table_name:"  " ]
I231121 08:48:33.281514 146 callisto/cdc/publisher/datastream/stream_service.go:306  Received request: FetchFull: [stream_id:"ms_1756" table_name:"test_table" ]
I231121 08:48:33.282106 146 callisto/cdc/publisher/datastream/stream_service.go:306  Received request: FetchFull: [stream_id:"ms_1756" table_name:"test_table" ]
I231121 08:48:33.282190 146 callisto/cdc/publisher/datastream/stream_service.go:306  Received request: FetchFull: [stream_id:"ms_4532" table_name:"some_other_test_table" ]
I231121 08:48:33.282711 146 callisto/cdc/publisher/datastream/stream_service.go:306  Received request: FetchFull: [stream_id:"ms_4536" table_name:"some_other_test_table" timestamp:"10.1" ]
I231121 08:48:33.282757 146 callisto/cdc/publisher/datastream/stream_service.go:518  Received request: FetchIncremental: [stream_id:"ms_4539" table_name:"some_other_test_table" ]
I231121 08:48:33.282777 146 callisto/cdc/publisher/datastream/stream_service.go:518  Received request: FetchIncremental: [stream_id:"ms_4637" table_name:"some_other_test_table" timestamp:"230.3" ]
I231121 08:48:33.283422 148 callisto/cdc/publisher/datastream/stream_service.go:306  Received request: FetchFull: [stream_id:"ms_1756" table_name:"test_table" ]
I231121 08:48:33.284667 116 callisto/cdc/publisher/datastream/stream_service.go:306  Received request: FetchFull: [stream_id:"ms_1756" table_name:"test_table" ]
E231121 08:48:33.285140 116 callisto/cdc/publisher/datastream/stream_service.go:690  Error occurred in commit replay work. Err: write to metadata_stream table is force failed
I231121 08:48:33.285489 117 callisto/cdc/publisher/datastream/stream_service.go:532  Received request: ProcessLive: [stream_id:"id1" ]
I231121 08:48:33.285605 117 callisto/cdc/publisher/datastream/stream_service.go:532  Received request: ProcessLive: [stream_id:"id2" ]
I231121 08:48:33.285725 117 callisto/cdc/publisher/datastream/stream_service.go:532  Received request: ProcessLive: [stream_id:"id3" ]
I231121 08:48:33.285822 117 callisto/cdc/publisher/datastream/stream_service.go:532  Received request: ProcessLive: [stream_id:"id4" ]
I231121 08:48:33.285905 117 callisto/cdc/publisher/datastream/stream_service.go:532  Received request: ProcessLive: [stream_id:"id1" ]
I231121 08:48:33.286002 117 callisto/cdc/publisher/datastream/stream_service.go:532  Received request: ProcessLive: [stream_id:"id0" ]
I231121 08:48:33.286086 117 callisto/cdc/publisher/datastream/stream_service.go:532  Received request: ProcessLive: [stream_id:"id1" deregister:true ]
I231121 08:48:33.286387 118 callisto/cdc/publisher/datastream/stream_service.go:319  Received request: Subscribe: [stream_id:"ms_1756" table_name:"test_table" ]
I231121 08:48:33.287109 96 callisto/cdc/publisher/datastream/stream_service.go:319  Received request: Subscribe: [stream_id:"ms_1756" table_name:"test_table" ]
I231121 08:48:33.287532 96 callisto/cdc/publisher/datastream/stream_service.go:426  Received request: Unsubscribe: [stream_id:"ms_1756" table_name:"test_table" ]
I231121 08:48:33.288037 169 callisto/cdc/publisher/datastream/stream_service.go:319  Received request: Subscribe: [stream_id:"ms_1756" table_name:"test_table" ]
I231121 08:48:33.288472 169 callisto/cdc/publisher/datastream/stream_service.go:426  Received request: Unsubscribe: [stream_id:"ms_1756" table_name:"test_table" ]
W231121 08:48:33.288713 169 callisto/cdc/publisher/datastream/stream_service.go:479  failed to stop live stream on all nodes. Only 3/4 were stopped.
W231121 08:48:33.288742 169 callisto/cdc/publisher/datastream/stream_service.go:481  stream manager will eventually stop live work on all nodes.
I231121 08:48:33.288898 177 callisto/cdc/publisher/datastream/stream_service.go:306  Received request: FetchFull: [stream_id:"ms_1756" table_name:"test_table" ]
I231121 08:48:33.289297 177 callisto/cdc/publisher/datastream/stream_service.go:426  Received request: Unsubscribe: [stream_id:"ms_1756" table_name:"test_table" ]
I231121 08:48:33.289770 178 callisto/cdc/publisher/datastream/stream_service.go:319  Received request: Subscribe: [stream_id:"ms_1756" table_name:"test_table" ]
I231121 08:48:33.290618 185 callisto/cdc/publisher/datastream/stream_service.go:319  Received request: Subscribe: [stream_id:"ms_1756" table_name:"test_table" ]
I231121 08:48:33.291992 128 callisto/cdc/publisher/datastream/stream_service.go:319  Received request: Subscribe: [stream_id:"ms_1756" table_name:"test_table" ]
E231121 08:48:34.293007 212 callisto/cdc/publisher/datastream/stream_service.go:597  could not execute ProcessLive: stream_id:"ms_1756" deregister:true  on node B-1171-lb
E231121 08:48:34.293097 212 callisto/cdc/publisher/datastream/stream_service.go:601  [error=cannot retry: context deadline exceeded] Maximum retry attempts exhausted while attempting to run LiveProcessing
E231121 08:48:34.293129 212 callisto/cdc/publisher/datastream/stream_service_test.go:585  error occurred in running fx on B-1171-lb
==================
WARNING: DATA RACE
Write at 0x00c0004b5b18 by goroutine 199:
  rubrik/callisto/cdc/publisher/datastream.(*MessageBuffer).Reset()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/message_buffer.go:44 +0x84
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushMuLocked.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:334 +0x39
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:213 +0x73
  rubrik/util/retry.WithExponentialBackOff.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:169 +0x30
  rubrik/util/retry.WithExponentialBackOffAndAttemptCnt()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:183 +0x1b8
  rubrik/util/retry.WithExponentialBackOff()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:168 +0x108
  rubrik/util/retry.WithMaxAttempts()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:205 +0x13d
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:204 +0x766
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Previous read at 0x00c0004b5b18 by goroutine 198:
  rubrik/callisto/cdc/publisher/datastream.(*MessageBuffer).GetSize()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/message_buffer.go:20 +0x666
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:248 +0x703
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:304 +0x1c2f
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 199 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:179 +0x464
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 198 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:123 +0x2e9
==================
==================
WARNING: DATA RACE
Write at 0x00c000622588 by goroutine 199:
  rubrik/callisto/cdc/publisher/datastream.(*MessageBuffer).Reset()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/message_buffer.go:44 +0x84
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushMuLocked.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:334 +0x39
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:213 +0x73
  rubrik/util/retry.WithExponentialBackOff.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:169 +0x30
  rubrik/util/retry.WithExponentialBackOffAndAttemptCnt()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:183 +0x1b8
  rubrik/util/retry.WithExponentialBackOff()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:168 +0x108
  rubrik/util/retry.WithMaxAttempts()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:205 +0x13d
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:204 +0x766
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Previous read at 0x00c000622588 by goroutine 198:
  rubrik/callisto/cdc/publisher/datastream.(*MessageBuffer).GetSize()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/message_buffer.go:20 +0x666
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:248 +0x703
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:358 +0x2964
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 199 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:179 +0x464
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 198 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:123 +0x2e9
==================
==================
WARNING: DATA RACE
Write at 0x00c0004b5a40 by goroutine 199:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:191 +0x4cf
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Previous read at 0x00c0004b5a40 by goroutine 198:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:143 +0x2b9e
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:381 +0x2b63
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 199 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:179 +0x464
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 198 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:123 +0x2e9
==================
==================
WARNING: DATA RACE
Write at 0x00c0006dd278 by goroutine 199:
  rubrik/callisto/cdc/publisher/datastream.(*MessageBuffer).Reset()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/message_buffer.go:44 +0x84
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushMuLocked.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:334 +0x39
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:213 +0x73
  rubrik/util/retry.WithExponentialBackOff.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:169 +0x30
  rubrik/util/retry.WithExponentialBackOffAndAttemptCnt()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:183 +0x1b8
  rubrik/util/retry.WithExponentialBackOff()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:168 +0x108
  rubrik/util/retry.WithMaxAttempts()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:205 +0x13d
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:204 +0x766
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Previous read at 0x00c0006dd278 by goroutine 198:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:144 +0x2bc8
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:381 +0x2b63
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 199 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:179 +0x464
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 198 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:123 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000391a28 by goroutine 198:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:144 +0x2bc8
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:381 +0x2b63
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000391a28 by goroutine 199:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:191 +0x3e4
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Goroutine 198 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:123 +0x2e9

Goroutine 199 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:179 +0x464
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c0004b5a70 by goroutine 198:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:144 +0x2c2f
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:381 +0x2b63
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c0004b5a70 by goroutine 199:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:200 +0x73
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Goroutine 198 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:123 +0x2e9

Goroutine 199 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:179 +0x464
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c0004b5800 by goroutine 198:
  runtime.mapaccess2_faststr()
      /usr/local/go/src/runtime/map_faststr.go:108 +0x0
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:393 +0x2f05
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c0004b5800 by goroutine 199:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  rubrik/callisto/cdc/publisher/datastream_test.(*FakeDBConnector).ExecuteQuery()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:95 +0x4bd
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).applyBatchToCrdb()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:461 +0xa8
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).writeMessagesToDB()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:426 +0x8a4
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushMuLocked()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:358 +0x570
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:213 +0x73
  rubrik/util/retry.WithExponentialBackOff.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:169 +0x30
  rubrik/util/retry.WithExponentialBackOffAndAttemptCnt()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:183 +0x1b8
  rubrik/util/retry.WithExponentialBackOff()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:168 +0x108
  rubrik/util/retry.WithMaxAttempts()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:205 +0x13d
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:204 +0x766
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Goroutine 198 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:123 +0x2e9

Goroutine 199 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/datastream_test.TestParallelFlushRandomizedTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink_test.go:179 +0x464
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestParallelFlushRandomizedTest (6.40s)
    restore_crdb_sink_test.go:385: Waiting for flush to complete
    testing.go:1446: race detected during execution of test
FAIL
FAIL  rubrik/callisto/cdc/publisher/datastream  10.658s
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
2023-11-21 08:49:33.621153460
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
==================
WARNING: DATA RACE
Read at 0x00c000b78498 by goroutine 12166:
  rubrik/callisto/cdc/publisher/publisher.checkpointUsefulForFilter()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/data_publisher.go:626 +0xa4
  rubrik/callisto/cdc/publisher/publisher.matchCheckpointAndFilter()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/data_publisher.go:585 +0x3a
  rubrik/callisto/cdc/publisher/publisher.findApplicableFilterForCheckpoint()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/data_publisher.go:564 +0x204
  rubrik/callisto/cdc/publisher/publisher.(*DataPublisher).ProcessCheckpoint()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/data_publisher.go:488 +0x1a9
  rubrik/callisto/cdc/publisher/publisher.(*DataPublisher).processRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/data_publisher.go:433 +0x34f
  rubrik/callisto/cdc/publisher/publisher.(*DataPublisher).processFile()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/data_publisher.go:398 +0x291
  rubrik/callisto/cdc/publisher/publisher.(*DataPublisher).ProcessLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/data_publisher.go:257 +0x5ef
  rubrik/callisto/cdc/publisher/publisher.(*DataPublisher).Run.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/data_publisher.go:118 +0x99

Previous write at 0x00c000b78498 by goroutine 12167:
  rubrik/callisto/cdc/publisher/publisher.PublishPubSubMessage()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/pub_sub_message_publish_loop.go:108 +0xd37
  rubrik/callisto/cdc/publisher/publisher.PubSubMessagePublishLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/pub_sub_message_publish_loop.go:31 +0xe4
  rubrik/callisto/cdc/publisher/publisher.(*DataPublisher).Run.func4()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/data_publisher.go:124 +0x99

Goroutine 12166 (running) created at:
  rubrik/callisto/cdc/publisher/publisher.(*DataPublisher).Run()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/data_publisher.go:118 +0x515
  rubrik/callisto/cdc/publisher/publisher.RunWithContext()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/publisher_driver.go:99 +0xfd8
  rubrik/callisto/cdc/publisher/integration_tests.startDataPublisher.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/data_publisher_test.go:365 +0x125

Goroutine 12167 (running) created at:
  rubrik/callisto/cdc/publisher/publisher.(*DataPublisher).Run()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/data_publisher.go:124 +0x7af
  rubrik/callisto/cdc/publisher/publisher.RunWithContext()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/publisher_driver.go:99 +0xfd8
  rubrik/callisto/cdc/publisher/integration_tests.startDataPublisher.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/data_publisher_test.go:365 +0x125
==================
--- FAIL: TestDataPublisherIntegrated (6.66s)
    cqlproxy_sch_test_utils.go:325: Starting CQLproxy server on 27577
    data_publisher_test.go:197: WorkAssignment bc430c23-ed1e-4cd0-a2e1-365e01e9ad16 is Done
    data_publisher_test.go:410: File /tmp/test_c5d6aea1-7f1b-4f1d-9ff9-f3405adaad4c/cdc_data/1700556699_0_1_metadata.json.gz scanned by Scanner
    data_publisher_test.go:197: WorkAssignment b9ab5264-64e3-40c0-96af-25dfa032113f is Done
    testing.go:1446: race detected during execution of test
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
==================
WARNING: DATA RACE
Read at 0x00c000dfa048 by goroutine 18673:
  rubrik/callisto/cdc/publisher/datastream.(*InMemoryPublishStrategy).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/InMemoryPublishStrategy.go:28 +0x3c
  rubrik/callisto/cdc/publisher/integration_tests.(*replayStreamInfoVerificationStrategy).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:94 +0x433
  rubrik/callisto/cdc/publisher/datastream.(*PublishStrategyWithNotifications).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/publish_strategy.go:354 +0xb3
  rubrik/callisto/cdc/publisher/datastream.sendEOSMessageIfAllReplayDone.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/replay_work.go:418 +0xd9
  rubrik/util/retry.WithExponentialBackOff.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:169 +0x30
  rubrik/util/retry.WithExponentialBackOffAndAttemptCnt()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:183 +0x1b8
  rubrik/util/retry.WithExponentialBackOff()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:168 +0x108
  rubrik/callisto/cdc/publisher/datastream.sendEOSMessageIfAllReplayDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/replay_work.go:409 +0xac6
  rubrik/callisto/cdc/publisher/datastream.ProcessReplayWork()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/replay_work.go:337 +0x1725
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:260 +0xd9e
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000dfa048 by goroutine 18674:
  rubrik/callisto/cdc/publisher/datastream.(*InMemoryPublishStrategy).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/InMemoryPublishStrategy.go:28 +0xce
  rubrik/callisto/cdc/publisher/integration_tests.(*replayStreamInfoVerificationStrategy).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:94 +0x433
  rubrik/callisto/cdc/publisher/datastream.(*PublishStrategyWithNotifications).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/publish_strategy.go:354 +0xb3
  rubrik/callisto/cdc/publisher/datastream.(*StreamProcessor).ProcessAndPublish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/stream_processor.go:71 +0x2ec
  rubrik/callisto/cdc/publisher/publisher.PublishPubSubMessage()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/pub_sub_message_publish_loop.go:119 +0xec4
  rubrik/callisto/cdc/publisher/publisher.PubSubMessagePublishLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/pub_sub_message_publish_loop.go:31 +0xe4
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork.func1.1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:224 +0x70
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:230 +0x66

Goroutine 18673 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:201 +0x1689
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:110 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 18674 (running) created at:
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:222 +0x739
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000bb42e0 by goroutine 18673:
  runtime.growslice()
      /usr/local/go/src/runtime/slice.go:157 +0x0
  rubrik/callisto/cdc/publisher/datastream.(*InMemoryPublishStrategy).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/InMemoryPublishStrategy.go:28 +0x6e
  rubrik/callisto/cdc/publisher/integration_tests.(*replayStreamInfoVerificationStrategy).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:94 +0x433
  rubrik/callisto/cdc/publisher/datastream.(*PublishStrategyWithNotifications).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/publish_strategy.go:354 +0xb3
  rubrik/callisto/cdc/publisher/datastream.sendEOSMessageIfAllReplayDone.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/replay_work.go:418 +0xd9
  rubrik/util/retry.WithExponentialBackOff.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:169 +0x30
  rubrik/util/retry.WithExponentialBackOffAndAttemptCnt()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:183 +0x1b8
  rubrik/util/retry.WithExponentialBackOff()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:168 +0x108
  rubrik/callisto/cdc/publisher/datastream.sendEOSMessageIfAllReplayDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/replay_work.go:409 +0xac6
  rubrik/callisto/cdc/publisher/datastream.ProcessReplayWork()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/replay_work.go:337 +0x1725
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:260 +0xd9e
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000bb42e0 by goroutine 18674:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:310 +0x0
  rubrik/callisto/cdc/publisher/datastream.(*InMemoryPublishStrategy).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/InMemoryPublishStrategy.go:28 +0xc4
  rubrik/callisto/cdc/publisher/integration_tests.(*replayStreamInfoVerificationStrategy).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:94 +0x433
  rubrik/callisto/cdc/publisher/datastream.(*PublishStrategyWithNotifications).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/publish_strategy.go:354 +0xb3
  rubrik/callisto/cdc/publisher/datastream.(*StreamProcessor).ProcessAndPublish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/stream_processor.go:71 +0x2ec
  rubrik/callisto/cdc/publisher/publisher.PublishPubSubMessage()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/pub_sub_message_publish_loop.go:119 +0xec4
  rubrik/callisto/cdc/publisher/publisher.PubSubMessagePublishLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/pub_sub_message_publish_loop.go:31 +0xe4
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork.func1.1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:224 +0x70
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:230 +0x66

Goroutine 18673 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:201 +0x1689
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:110 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 18674 (running) created at:
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:222 +0x739
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000b78750 by goroutine 18673:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:310 +0x0
  rubrik/callisto/cdc/publisher/datastream.(*InMemoryPublishStrategy).GetPublishedMessages()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/InMemoryPublishStrategy.go:37 +0x349
  rubrik/callisto/cdc/publisher/integration_tests.comparePublishedData()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:417 +0x2e1
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:298 +0x1396
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000b78750 by goroutine 18674:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:310 +0x0
  rubrik/callisto/cdc/publisher/datastream.(*InMemoryPublishStrategy).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/InMemoryPublishStrategy.go:28 +0xc4
  rubrik/callisto/cdc/publisher/integration_tests.(*replayStreamInfoVerificationStrategy).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:94 +0x433
  rubrik/callisto/cdc/publisher/datastream.(*PublishStrategyWithNotifications).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/publish_strategy.go:354 +0xb3
  rubrik/callisto/cdc/publisher/datastream.(*StreamProcessor).ProcessAndPublish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/stream_processor.go:71 +0x2ec
  rubrik/callisto/cdc/publisher/publisher.PublishPubSubMessage()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/pub_sub_message_publish_loop.go:119 +0xec4
  rubrik/callisto/cdc/publisher/publisher.PubSubMessagePublishLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/publisher/pub_sub_message_publish_loop.go:31 +0xe4
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork.func1.1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:224 +0x70
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:230 +0x66

Goroutine 18673 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:201 +0x1689
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:110 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 18674 (running) created at:
  rubrik/callisto/cdc/publisher/integration_tests.TestProcessReplayWork.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/replay_work_test.go:222 +0x739
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestProcessReplayWork (24.40s)
    cqlproxy_sch_test_utils.go:325: Starting CQLproxy server on 27577
    --- FAIL: TestProcessReplayWork/incremental_fetch_no_events (1.08s)
        testing.go:1446: race detected during execution of test
    testing.go:1446: race detected during execution of test
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
==================
WARNING: DATA RACE
Write at 0x00c0007d6630 by goroutine 19266:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:191 +0x4cf
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Previous read at 0x00c0007d6630 by goroutine 19243:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:143 +0xb9
  rubrik/callisto/cdc/publisher/integration_tests.waitForFlushToFinish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:273 +0x5e
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:305 +0x565
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:64 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:32 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19266 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:59 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:32 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19243 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x000001d8fcc8 by goroutine 19270:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:180 +0x174
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Previous write at 0x000001d8fcc8 by goroutine 19243:
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:62 +0x669
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:32 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19270 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:59 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:32 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19243 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9
==================
==================
WARNING: DATA RACE
Write at 0x00c0007d6708 by goroutine 19266:
  rubrik/callisto/cdc/publisher/datastream.(*MessageBuffer).Reset()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/message_buffer.go:44 +0x84
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushMuLocked.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:334 +0x39
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:213 +0x73
  rubrik/util/retry.WithExponentialBackOff.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:169 +0x30
  rubrik/util/retry.WithExponentialBackOffAndAttemptCnt()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:183 +0x1b8
  rubrik/util/retry.WithExponentialBackOff()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:168 +0x108
  rubrik/util/retry.WithMaxAttempts()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:205 +0x13d
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:204 +0x766
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Previous read at 0x00c0007d6708 by goroutine 19243:
  rubrik/callisto/cdc/publisher/datastream.(*MessageBuffer).GetSize()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/message_buffer.go:20 +0x666
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:248 +0x703
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:302 +0x529
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:64 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:32 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19266 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:59 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:32 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19243 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000c31548 by goroutine 19243:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:144 +0xda
  rubrik/callisto/cdc/publisher/integration_tests.waitForFlushToFinish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:273 +0x5e
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:305 +0x565
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:64 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:32 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000c31548 by goroutine 19266:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:191 +0x3e4
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Goroutine 19243 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9

Goroutine 19266 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:59 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:32 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c0007d6660 by goroutine 19243:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:144 +0x12c
  rubrik/callisto/cdc/publisher/integration_tests.waitForFlushToFinish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:273 +0x5e
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:305 +0x565
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:64 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:32 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c0007d6660 by goroutine 19266:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:200 +0x73
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Goroutine 19243 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9

Goroutine 19266 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:59 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:32 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestRestoreSinkAllDataTypes (2.86s)
    restore_sink_integration_test.go:277: Waiting for flush to complete
    testing.go:1446: race detected during execution of test
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
==================
WARNING: DATA RACE
Write at 0x000001d8fcc8 by goroutine 19277:
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:118 +0x669
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous read at 0x000001d8fcc8 by goroutine 19266:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:180 +0x174
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Goroutine 19277 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9

Goroutine 19266 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:59 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkAllDataTypes()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:32 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Write at 0x00c000e52a80 by goroutine 19299:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:191 +0x4cf
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Previous read at 0x00c000e52a80 by goroutine 19277:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:143 +0xb9
  rubrik/callisto/cdc/publisher/integration_tests.waitForFlushToFinish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:273 +0x5e
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithDuplicates()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:151 +0x64b
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:120 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19299 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:115 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19277 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000e53068 by goroutine 19277:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:144 +0xda
  rubrik/callisto/cdc/publisher/integration_tests.waitForFlushToFinish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:273 +0x5e
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithDuplicates()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:151 +0x64b
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:120 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000e53068 by goroutine 19299:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:191 +0x3e4
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Goroutine 19277 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9

Goroutine 19299 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:115 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000e52ab0 by goroutine 19277:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:144 +0x12c
  rubrik/callisto/cdc/publisher/integration_tests.waitForFlushToFinish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:273 +0x5e
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithDuplicates()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:151 +0x64b
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:120 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000e52ab0 by goroutine 19299:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:200 +0x73
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Goroutine 19277 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9

Goroutine 19299 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:115 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Write at 0x00c000e52a80 by goroutine 19299:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:191 +0x4cf
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Previous read at 0x00c000e52a80 by goroutine 19277:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:143 +0xb9
  rubrik/callisto/cdc/publisher/integration_tests.waitForFlushToFinish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:273 +0x5e
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithDuplicates()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:191 +0xde4
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:120 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19299 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:115 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19277 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9
==================
==================
WARNING: DATA RACE
Write at 0x00c000e53068 by goroutine 19299:
  rubrik/callisto/cdc/publisher/datastream.(*MessageBuffer).Reset()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/message_buffer.go:44 +0x84
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushMuLocked.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:334 +0x39
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:213 +0x73
  rubrik/util/retry.WithExponentialBackOff.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:169 +0x30
  rubrik/util/retry.WithExponentialBackOffAndAttemptCnt()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:183 +0x1b8
  rubrik/util/retry.WithExponentialBackOff()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:168 +0x108
  rubrik/util/retry.WithMaxAttempts()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:205 +0x13d
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:204 +0x766
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Previous read at 0x00c000e53068 by goroutine 19277:
  rubrik/callisto/cdc/publisher/datastream.(*MessageBuffer).GetSize()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/message_buffer.go:20 +0x666
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:248 +0x703
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithDuplicates()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:188 +0xda8
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:120 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19299 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:115 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19277 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000bdf278 by goroutine 19277:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:144 +0xda
  rubrik/callisto/cdc/publisher/integration_tests.waitForFlushToFinish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:273 +0x5e
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithDuplicates()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:191 +0xde4
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:120 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000bdf278 by goroutine 19299:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:191 +0x3e4
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Goroutine 19277 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9

Goroutine 19299 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:115 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000e52ab0 by goroutine 19277:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:144 +0x12c
  rubrik/callisto/cdc/publisher/integration_tests.waitForFlushToFinish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:273 +0x5e
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithDuplicates()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:191 +0xde4
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:120 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000e52ab0 by goroutine 19299:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:200 +0x73
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Goroutine 19277 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9

Goroutine 19299 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:115 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Write at 0x00c000e52a80 by goroutine 19299:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:191 +0x4cf
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Previous read at 0x00c000e52a80 by goroutine 19277:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:143 +0xb9
  rubrik/callisto/cdc/publisher/integration_tests.waitForFlushToFinish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:273 +0x5e
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithDuplicates()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:213 +0x108a
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:120 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19299 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:115 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19277 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9
==================
==================
WARNING: DATA RACE
Write at 0x00c000bdf278 by goroutine 19299:
  rubrik/callisto/cdc/publisher/datastream.(*MessageBuffer).Reset()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/message_buffer.go:44 +0x84
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushMuLocked.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:334 +0x39
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:213 +0x73
  rubrik/util/retry.WithExponentialBackOff.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:169 +0x30
  rubrik/util/retry.WithExponentialBackOffAndAttemptCnt()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:183 +0x1b8
  rubrik/util/retry.WithExponentialBackOff()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:168 +0x108
  rubrik/util/retry.WithMaxAttempts()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/util/retry/retry.go:205 +0x13d
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:204 +0x766
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Previous read at 0x00c000bdf278 by goroutine 19277:
  rubrik/callisto/cdc/publisher/datastream.(*MessageBuffer).GetSize()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/message_buffer.go:20 +0x666
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).Send()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:248 +0x703
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithDuplicates()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:210 +0x104e
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:120 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19299 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:115 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19277 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9
==================
==================
WARNING: DATA RACE
Read at 0x00c000594708 by goroutine 19277:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:144 +0xda
  rubrik/callisto/cdc/publisher/integration_tests.waitForFlushToFinish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:273 +0x5e
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithDuplicates()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:213 +0x108a
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:120 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000594708 by goroutine 19299:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:191 +0x3e4
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Goroutine 19277 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9

Goroutine 19299 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:115 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000e52ab0 by goroutine 19277:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:144 +0x12c
  rubrik/callisto/cdc/publisher/integration_tests.waitForFlushToFinish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:273 +0x5e
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithDuplicates()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:213 +0x108a
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:120 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000e52ab0 by goroutine 19299:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:200 +0x73
  runtime.deferreturn()
      /usr/local/go/src/runtime/panic.go:476 +0x32
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Goroutine 19277 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9

Goroutine 19299 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:115 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Write at 0x00c000e52a80 by goroutine 19299:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).flushIfNecessary()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:191 +0x4cf
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).startTimeBasedFlushingForBuffer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:163 +0x104
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x64

Previous read at 0x00c000e52a80 by goroutine 19277:
  rubrik/callisto/cdc/publisher/datastream.(*RestoreCRDBSink).IsDone()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:143 +0xb9
  rubrik/callisto/cdc/publisher/integration_tests.waitForFlushToFinish()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:273 +0x5e
  rubrik/callisto/cdc/publisher/integration_tests.testRestoreSinkWithDuplicates()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:253 +0x17eb
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:120 +0x69d
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19299 (running) created at:
  rubrik/callisto/cdc/publisher/datastream.NewRestoreCRDBSinkForConnector()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/datastream/restore_crdb_sink.go:134 +0x826
  rubrik/callisto/cdc/publisher/integration_tests.NewTestRestoreSink()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:72 +0x399
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:115 +0x610
  rubrik/callisto/cdc/publisher/integration_tests.TestRestoreSinkDedup()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/integration_tests/restore_sink_integration_test.go:88 +0x44
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 19277 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:91 +0x2e9
==================
--- FAIL: TestRestoreSinkDedup (5.95s)
    restore_sink_integration_test.go:277: Waiting for flush to complete
    restore_sink_integration_test.go:277: Waiting for flush to complete
    restore_sink_integration_test.go:277: Waiting for flush to complete
    restore_sink_integration_test.go:277: Waiting for flush to complete
    testing.go:1446: race detected during execution of test
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
    Using Cockroach version: cockroach-v22.2.16-78-g2ec2aacf72d.linux-amd64
FAIL
FAIL  rubrik/callisto/cdc/publisher/integration_tests 140.667s
ok    rubrik/callisto/cdc/publisher/integration_tests/utils 0.044s
ok    rubrik/callisto/cdc/publisher/orm (cached)
ok    rubrik/callisto/cdc/publisher/publisher 0.227s
ok    rubrik/callisto/cdc/publisher/publisher/commonpub (cached)
==================
WARNING: DATA RACE
Write at 0x00c0003a814f by goroutine 35:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:734 +0xa7

Previous read at 0x00c0003a814f by goroutine 10:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:743 +0x284
  rubrik/callisto/cdc/publisher/scanner.TestStreamingFromPrimaryFile()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:101 +0x9bc
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 35 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:732 +0x145
  rubrik/callisto/cdc/publisher/scanner.TestStreamingFromPrimaryFile()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:101 +0x9bc
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 10 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9
==================
--- FAIL: TestStreamingFromPrimaryFile (3.16s)
    testing.go:1446: race detected during execution of test
==================
WARNING: DATA RACE
Write at 0x00c00013615f by goroutine 50:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:734 +0xa7

Previous read at 0x00c00013615f by goroutine 43:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:743 +0x284
  rubrik/callisto/cdc/publisher/scanner.getPublisherTestUniverse()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:1404 +0x1415
  rubrik/callisto/cdc/publisher/scanner.TestTimelinesCreation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:167 +0xb0
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 50 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:732 +0x145
  rubrik/callisto/cdc/publisher/scanner.getPublisherTestUniverse()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:1404 +0x1415
  rubrik/callisto/cdc/publisher/scanner.TestTimelinesCreation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:167 +0xb0
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 43 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9
==================
--- FAIL: TestTimelinesCreation (2.08s)
    testing.go:1446: race detected during execution of test
==================
WARNING: DATA RACE
Write at 0x00c00028d95f by goroutine 66:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:734 +0xa7

Previous read at 0x00c00028d95f by goroutine 61:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:743 +0x284
  rubrik/callisto/cdc/publisher/scanner.TestPrimaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:679 +0xadc
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 66 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:732 +0x145
  rubrik/callisto/cdc/publisher/scanner.TestPrimaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:679 +0xadc
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 61 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9
==================
==================
WARNING: DATA RACE
Write at 0x00c0002c4720 by goroutine 63:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:46 +0x224
  rubrik/callisto/cdc/publisher/scanner.getNewFileConsumerFnForStreaming.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:200 +0x164
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).callConsumer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:166 +0x1f2
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).notifyNewFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:141 +0x4a7
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).Run.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:99 +0x137

Previous read at 0x00c0002c4720 by goroutine 64:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Size()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:78 +0xbc9
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:123 +0xbd7
  rubrik/callisto/cdc/publisher/scanner.startLiveStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner.go:165 +0x365
  rubrik/callisto/cdc/publisher/scanner.TestPrimaryFileRotation.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:645 +0x290

Goroutine 63 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).Run()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:93 +0x13d
  rubrik/callisto/cdc/publisher/scanner.TestPrimaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:639 +0x604
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 64 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestPrimaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:644 +0xa35
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestPrimaryFileRotation (1.07s)
    testing.go:1446: race detected during execution of test
{"level": "ERROR", "instant": {"epochSecond": 1700556517, "nanoOfSecond": 397648110}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/data_record_reader.go:108", "threadId": 43, "message": "[error=close /tmp/test_5d1f201b-69e9-4ccc-a2a3-2c0d558ac70e/cdc_data/1700556516_0_1_primary_data.json.gz: file already closed] failed to close data source for closing CDCFileReader: error close /tmp/test_5d1f201b-69e9-4ccc-a2a3-2c0d558ac70e/cdc_data/1700556516_0_1_primary_data.json.gz: file already closed"}
==================
WARNING: DATA RACE
Read at 0x00c0002c4420 by goroutine 74:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Size()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:78 +0xde
  rubrik/callisto/cdc/publisher/scanner.getNewFileConsumerFnForStreaming.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:198 +0xec
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).callConsumer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:166 +0x1f2
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).notifyNewFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:141 +0x4a7
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).Run.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:99 +0x137

Previous write at 0x00c0002c4420 by goroutine 75:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).PopOldest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:70 +0x18d
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:128 +0xc04
  rubrik/callisto/cdc/publisher/scanner.startLiveStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner.go:165 +0x365
  rubrik/callisto/cdc/publisher/scanner.TestPrimaryFileRotationWithAdditionalFiles.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:844 +0x295

Goroutine 74 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).Run()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:93 +0x13d
  rubrik/callisto/cdc/publisher/scanner.TestPrimaryFileRotationWithAdditionalFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:838 +0xb24
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 75 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestPrimaryFileRotationWithAdditionalFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:843 +0xf09
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c0002c4420 by goroutine 75:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Size()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:78 +0xbc9
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:123 +0xbd7
  rubrik/callisto/cdc/publisher/scanner.startLiveStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner.go:165 +0x365
  rubrik/callisto/cdc/publisher/scanner.TestPrimaryFileRotationWithAdditionalFiles.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:844 +0x295

Previous write at 0x00c0002c4420 by goroutine 74:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:46 +0x224
  rubrik/callisto/cdc/publisher/scanner.getNewFileConsumerFnForStreaming.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:200 +0x164
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).callConsumer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:166 +0x1f2
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).notifyNewFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:141 +0x4a7
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).Run.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:99 +0x137

Goroutine 75 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestPrimaryFileRotationWithAdditionalFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:843 +0xf09
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 74 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).Run()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:93 +0x13d
  rubrik/callisto/cdc/publisher/scanner.TestPrimaryFileRotationWithAdditionalFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:838 +0xb24
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestPrimaryFileRotationWithAdditionalFiles (0.09s)
    testing.go:1446: race detected during execution of test
{"level": "ERROR", "instant": {"epochSecond": 1700556517, "nanoOfSecond": 485598894}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/data_record_reader.go:108", "threadId": 106, "message": "[error=close /tmp/test_3f30fc07-5da7-42ca-91e6-1aa45ea5c7ea/cdc_data/1700556617_0_1_primary_data.json.gz: file already closed] failed to close data source for closing CDCFileReader: error close /tmp/test_3f30fc07-5da7-42ca-91e6-1aa45ea5c7ea/cdc_data/1700556617_0_1_primary_data.json.gz: file already closed"}
==================
WARNING: DATA RACE
Write at 0x00c0001de00f by goroutine 99:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:734 +0xa7

Previous read at 0x00c0001de00f by goroutine 92:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:743 +0x284
  rubrik/callisto/cdc/publisher/scanner.getPublisherTestUniverse()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:1404 +0x1415
  rubrik/callisto/cdc/publisher/scanner.TestFileCheckpoint()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:1171 +0xab
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 99 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:732 +0x145
  rubrik/callisto/cdc/publisher/scanner.getPublisherTestUniverse()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:1404 +0x1415
  rubrik/callisto/cdc/publisher/scanner.TestFileCheckpoint()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:1171 +0xab
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 92 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9
==================
--- FAIL: TestFileCheckpoint (1.27s)
    testing.go:1446: race detected during execution of test
==================
WARNING: DATA RACE
Write at 0x00c000242c0f by goroutine 109:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:734 +0xa7

Previous read at 0x00c000242c0f by goroutine 102:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:743 +0x284
  rubrik/callisto/cdc/publisher/scanner.getPublisherTestUniverse()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:1404 +0x1415
  rubrik/callisto/cdc/publisher/scanner.TestTableWhiteFilter()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:1425 +0xab
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 109 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.sendEmptyNotificationWithTimeout()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:732 +0x145
  rubrik/callisto/cdc/publisher/scanner.getPublisherTestUniverse()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:1404 +0x1415
  rubrik/callisto/cdc/publisher/scanner.TestTableWhiteFilter()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_live_stream_scanner_test.go:1425 +0xab
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 102 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9
==================
--- FAIL: TestTableWhiteFilter (1.35s)
    testing.go:1446: race detected during execution of test
rangeLTS:&{m:{state:0 sema:0} TsMap:map[{Start:0 End:ffff}:[0xc000402720 0xc0004027b0]]}
rangeLTS:&{m:{state:0 sema:0} TsMap:map[{Start:0 End:ffff}:[0xc0004021b0]]}
{"level": "ERROR", "instant": {"epochSecond": 1700556521, "nanoOfSecond": 123785065}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/scanner/cdc_metadata_scanner.go:74", "threadId": 134, "message": "unable to load scanner checkpoint, err:[missing label]"}
==================
WARNING: DATA RACE
Read at 0x00c000136bf8 by goroutine 121:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1.3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:381 +0x39
  rubrik/callisto/cdc/publisher/scanner.TimedWaitForFnForTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/test_utils.go:100 +0x183
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:380 +0x117a
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000136bf8 by goroutine 124:
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:146 +0x112
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:358 +0x1c4

Goroutine 121 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:289 +0x17cf
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 124 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:357 +0x1129
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c00029e990 by goroutine 121:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:391 +0x1229
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c00029e990 by goroutine 124:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).GetTimeline()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:197 +0x1cc
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:143 +0x17e
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:358 +0x1c4

Goroutine 121 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:289 +0x17cf
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 124 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:357 +0x1129
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000224088 by goroutine 121:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:394 +0x15cd
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000224088 by goroutine 124:
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).GetTimeline()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:197 +0x1db
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:143 +0x17e
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:358 +0x1c4

Goroutine 121 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:289 +0x17cf
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 124 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:357 +0x1129
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c0001a8048 by goroutine 121:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:396 +0x15f6
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c0001a8048 by goroutine 124:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:72 +0x72a
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:145 +0x19b
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:358 +0x1c4

Goroutine 121 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:289 +0x17cf
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 124 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:357 +0x1129
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Write at 0x00c00013c180 by goroutine 121:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:397 +0x16ae
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c00013c180 by goroutine 124:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:37 +0x19a
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:145 +0x19b
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:358 +0x1c4

Goroutine 121 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:289 +0x17cf
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 124 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:357 +0x1129
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000228498 by goroutine 121:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:396 +0x167c
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000228498 by goroutine 124:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:72 +0x6e4
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:145 +0x19b
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:358 +0x1c4

Goroutine 121 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:289 +0x17cf
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 124 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:357 +0x1129
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c00013c140 by goroutine 121:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1459 +0x5f7
  reflect.deepValueEqual()
      /usr/local/go/src/reflect/deepequal.go:160 +0x575
  reflect.deepValueEqual()
      /usr/local/go/src/reflect/deepequal.go:130 +0x1e48
  reflect.deepValueEqual()
      /usr/local/go/src/reflect/deepequal.go:127 +0x16c4
  reflect.deepValueEqual()
      /usr/local/go/src/reflect/deepequal.go:113 +0x1f5e
  reflect.DeepEqual()
      /usr/local/go/src/reflect/deepequal.go:237 +0x49c
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:402 +0x141e
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c00013c140 by goroutine 124:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:37 +0x19a
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:145 +0x19b
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:358 +0x1c4

Goroutine 121 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:289 +0x17cf
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 124 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:357 +0x1129
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c00013c150 by goroutine 121:
  reflect.Value.String()
      /usr/local/go/src/reflect/value.go:2565 +0x1bc4
  reflect.deepValueEqual()
      /usr/local/go/src/reflect/deepequal.go:164 +0x1c2c
  reflect.deepValueEqual()
      /usr/local/go/src/reflect/deepequal.go:130 +0x1e48
  reflect.deepValueEqual()
      /usr/local/go/src/reflect/deepequal.go:127 +0x16c4
  reflect.deepValueEqual()
      /usr/local/go/src/reflect/deepequal.go:113 +0x1f5e
  reflect.DeepEqual()
      /usr/local/go/src/reflect/deepequal.go:237 +0x49c
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:402 +0x141e
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c00013c150 by goroutine 124:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:37 +0x19a
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:145 +0x19b
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:358 +0x1c4

Goroutine 121 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:289 +0x17cf
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 124 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:357 +0x1129
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
{"level": "ERROR", "instant": {"epochSecond": 1700556521, "nanoOfSecond": 270132339}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/data_record_reader.go:108", "threadId": 141, "message": "[error=close /tmp/test_f65476c9-8674-4c42-b424-1217ec2e1a1a/cdc_data/1700556521_0_1_secondary_metadata.json.gz: file already closed] failed to close data source for closing CDCFileReader: error close /tmp/test_f65476c9-8674-4c42-b424-1217ec2e1a1a/cdc_data/1700556521_0_1_secondary_metadata.json.gz: file already closed"}
==================
WARNING: DATA RACE
Read at 0x00c0001548c8 by goroutine 127:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:396 +0x15f6
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c0001548c8 by goroutine 130:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:50 +0x33b
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:145 +0x19b
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:358 +0x1c4

Goroutine 127 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:289 +0x17cf
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 130 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:357 +0x1129
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000406098 by goroutine 127:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:396 +0x167c
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000406098 by goroutine 130:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:50 +0x2f5
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:145 +0x19b
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:358 +0x1c4

Goroutine 127 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:289 +0x17cf
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 130 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestStreamFromExistingSecondaryFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:357 +0x1129
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestStreamFromExistingSecondaryFiles (0.24s)
    --- FAIL: TestStreamFromExistingSecondaryFiles/two_files_without_scanner_checkpoint (0.14s)
        testing.go:1446: race detected during execution of test
    --- FAIL: TestStreamFromExistingSecondaryFiles/two_files_with_scanner_checkpoint_on_start_of_second_file (0.10s)
        testing.go:1446: race detected during execution of test
    testing.go:1446: race detected during execution of test
==================
WARNING: DATA RACE
Read at 0x00c000136278 by goroutine 133:
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:508 +0x30
  rubrik/callisto/cdc/publisher/scanner.TimedWaitForFnForTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/test_utils.go:100 +0x183
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:507 +0xf9a
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000136278 by goroutine 138:
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:146 +0x112
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:485 +0x2b8

Goroutine 133 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9

Goroutine 138 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:484 +0xf65
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c00029e0c0 by goroutine 133:
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:517 +0xff1
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c00029e0c0 by goroutine 138:
  runtime.mapassign_faststr()
      /usr/local/go/src/runtime/map_faststr.go:203 +0x0
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).GetTimeline()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:197 +0x1cc
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:143 +0x17e
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:485 +0x2b8

Goroutine 133 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9

Goroutine 138 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:484 +0xf65
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000127748 by goroutine 133:
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:519 +0x1311
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000127748 by goroutine 138:
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).GetTimeline()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:197 +0x1db
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:143 +0x17e
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:485 +0x2b8

Goroutine 133 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9

Goroutine 138 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:484 +0xf65
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000154788 by goroutine 133:
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:520 +0x133a
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000154788 by goroutine 138:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:50 +0x33b
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:145 +0x19b
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:485 +0x2b8

Goroutine 133 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9

Goroutine 138 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:484 +0xf65
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000128108 by goroutine 133:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).ToString()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:113 +0xd1
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:521 +0x1350
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000128108 by goroutine 138:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:50 +0x2f5
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:145 +0x19b
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:485 +0x2b8

Goroutine 133 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9

Goroutine 138 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:484 +0xf65
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c0000c25f0 by goroutine 133:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:125 +0xaf
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1510 +0x18b
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1480 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:923 +0x12da
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:759 +0xe44
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1077 +0x599
  fmt.Sprintf()
      /usr/local/go/src/fmt/print.go:239 +0x67
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).ToString()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:114 +0x114
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:521 +0x1350
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c0000c25f0 by goroutine 138:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:37 +0x19a
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:145 +0x19b
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:485 +0x2b8

Goroutine 133 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9

Goroutine 138 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:484 +0xf65
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c0000c25f8 by goroutine 133:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:125 +0xaf
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1510 +0x18b
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1480 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:853 +0x1d25
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:923 +0x12da
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:759 +0xe44
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1077 +0x599
  fmt.Sprintf()
      /usr/local/go/src/fmt/print.go:239 +0x67
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).ToString()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:114 +0x114
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:521 +0x1350
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c0000c25f8 by goroutine 138:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:37 +0x19a
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:145 +0x19b
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:485 +0x2b8

Goroutine 133 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9

Goroutine 138 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:484 +0xf65
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c0000441c0 by goroutine 133:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:310 +0x0
  fmt.(*buffer).writeString()
      /usr/local/go/src/fmt/print.go:108 +0x10c
  fmt.(*fmt).padString()
      /usr/local/go/src/fmt/format.go:110 +0x7a
  fmt.(*fmt).fmtS()
      /usr/local/go/src/fmt/format.go:359 +0x84
  fmt.(*pp).fmtString()
      /usr/local/go/src/fmt/print.go:494 +0x13a
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:804 +0x1a4a
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:853 +0x1d25
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:923 +0x12da
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:759 +0xe44
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1077 +0x599
  fmt.Sprintf()
      /usr/local/go/src/fmt/print.go:239 +0x67
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).ToString()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:114 +0x114
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:521 +0x1350
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c0000441c0 by goroutine 138:
  runtime.slicecopy()
      /usr/local/go/src/runtime/slice.go:310 +0x0
  strings.(*Builder).WriteString()
      /usr/local/go/src/strings/builder.go:115 +0x13a
  strings.Join()
      /usr/local/go/src/strings/strings.go:441 +0x190
  path/filepath.join()
      /usr/local/go/src/path/filepath/path_unix.go:49 +0xd6
  path/filepath.Join()
      /usr/local/go/src/path/filepath/path.go:266 +0x244
  path/filepath.walk()
      /usr/local/go/src/path/filepath/path.go:497 +0x1e9
  path/filepath.Walk()
      /usr/local/go/src/path/filepath/path.go:571 +0x84
  rubrik/callisto/cdc/publisher/scanner.getFilesInDir()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_metadata_reader.go:192 +0xc4
  rubrik/callisto/cdc/publisher/scanner.GetOrderedFilesWithSuffix()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_metadata_reader.go:269 +0x8c
  rubrik/callisto/cdc/publisher/scanner.getCheckpointToResumeSecondaryScan()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:173 +0xa5
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:127 +0x7d
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:59 +0x93
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:485 +0x2b8

Goroutine 133 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9

Goroutine 138 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestOnlySecondaryCPFilesRead()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:484 +0xf65
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestOnlySecondaryCPFilesRead (0.10s)
    testing.go:1446: race detected during execution of test
==================
WARNING: DATA RACE
Read at 0x00c000136158 by goroutine 141:
  rubrik/callisto/cdc/publisher/scanner.TestScannerCheckpoint.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:579 +0x30
  rubrik/callisto/cdc/publisher/scanner.TimedWaitForFnForTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/test_utils.go:100 +0x183
  rubrik/callisto/cdc/publisher/scanner.TestScannerCheckpoint()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:578 +0xa0e
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000136158 by goroutine 144:
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:146 +0x112
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestScannerCheckpoint.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:556 +0x267

Goroutine 141 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9

Goroutine 144 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestScannerCheckpoint()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:555 +0x9d9
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestScannerCheckpoint (0.05s)
    testing.go:1446: race detected during execution of test
==================
WARNING: DATA RACE
Write at 0x00c000136c18 by goroutine 150:
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:146 +0x112
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:632 +0x2b8

Previous read at 0x00c000136c18 by goroutine 147:
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:662 +0x30
  rubrik/callisto/cdc/publisher/scanner.TimedWaitForFnForTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/test_utils.go:100 +0x183
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:661 +0xa9e
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 150 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:631 +0x98b
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 147 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9
==================
==================
WARNING: DATA RACE
Write at 0x00c00046c090 by goroutine 149:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:46 +0x224
  rubrik/callisto/cdc/publisher/scanner.getNewFileConsumerFnForStreaming.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:200 +0x164
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).callConsumer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:166 +0x1f2
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).notifyNewFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:141 +0x4a7
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).Run.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:99 +0x137

Previous read at 0x00c00046c090 by goroutine 150:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Size()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:78 +0xbc9
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:123 +0xbd7
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:632 +0x2b8

Goroutine 149 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).Run()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:93 +0x13d
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:626 +0x5a4
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 150 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:631 +0x98b
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c000136c18 by goroutine 147:
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation.func4()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:702 +0x30
  rubrik/callisto/cdc/publisher/scanner.TimedWaitForFnForTest()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/test_utils.go:100 +0x183
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:701 +0xf9e
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c000136c18 by goroutine 150:
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:146 +0x112
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:632 +0x2b8

Goroutine 147 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9

Goroutine 150 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:631 +0x98b
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c00057c1c8 by goroutine 147:
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:711 +0x125a
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c00057c1c8 by goroutine 150:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:72 +0x72a
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:145 +0x19b
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:632 +0x2b8

Goroutine 147 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9

Goroutine 150 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:631 +0x98b
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c0002a83c8 by goroutine 147:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:125 +0xaf
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1510 +0x18b
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1480 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:923 +0x12da
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:759 +0xe44
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1077 +0x599
  fmt.Sprintf()
      /usr/local/go/src/fmt/print.go:239 +0x67
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).ToString()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:114 +0x114
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:712 +0x1270
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c0002a83c8 by goroutine 150:
  rubrik/callisto/cdc/publisher/scanner.(*Timeline).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:65 +0xa73
  rubrik/callisto/cdc/publisher/scanner.(*TimelinesMap).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/timeline.go:145 +0x19b
  rubrik/callisto/cdc/publisher/scanner.consumeRecord()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:256 +0x40a
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner.func3()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:138 +0xee
  rubrik/callisto/cdc/publisher/scanner.ReadStreamLoop()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_read_utils.go:165 +0x102f
  rubrik/callisto/cdc/publisher/scanner.startSecondaryStreamScanner()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner.go:116 +0x253
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:632 +0x2b8

Goroutine 147 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  testing.runTests.func1()
      /usr/local/go/src/testing/testing.go:2036 +0x8d
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.runTests()
      /usr/local/go/src/testing/testing.go:2034 +0x87c
  testing.(*M).Run()
      /usr/local/go/src/testing/testing.go:1906 +0xb44
  main.main()
      _testmain.go:95 +0x2e9

Goroutine 150 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestSecondaryFileRotation()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/cdc_secondary_stream_scanner_test.go:631 +0x98b
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestSecondaryFileRotation (1.59s)
    testing.go:1446: race detected during execution of test
==================
WARNING: DATA RACE
Write at 0x00c00046c420 by goroutine 157:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:46 +0x224
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1.1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:93 +0x44
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).callConsumers()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:156 +0x430
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).notifyNewFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:127 +0x293
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:97 +0x59

Previous read at 0x00c00046c420 by goroutine 156:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Size()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:78 +0x904
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:113 +0x912
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 157 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:96 +0x6d1
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 156 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:73 +0x8b7
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
{"level": "ERROR", "instant": {"epochSecond": 1700556523, "nanoOfSecond": 106859733}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/data_record_reader.go:108", "threadId": 196, "message": "[error=close /tmp/test_0e761665-bb0f-41c2-9906-b1a34986580c/cdc_data/1700556521_0_1_secondary_metadata.json.gz: file already closed] failed to close data source for closing CDCFileReader: error close /tmp/test_0e761665-bb0f-41c2-9906-b1a34986580c/cdc_data/1700556521_0_1_secondary_metadata.json.gz: file already closed"}
==================
WARNING: DATA RACE
Write at 0x00c00046c420 by goroutine 157:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:46 +0x224
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1.1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:93 +0x44
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).callConsumer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:166 +0x1f2
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).notifyNewFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:141 +0x4a7
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:97 +0x59

Previous read at 0x00c00046c420 by goroutine 156:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Size()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:78 +0x8f2
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:116 +0x8e5
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 157 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:96 +0x6d1
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 156 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:73 +0x8b7
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Read at 0x00c00046c420 by goroutine 156:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Size()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:78 +0xee5
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:150 +0xab9
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous write at 0x00c00046c420 by goroutine 157:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:46 +0x224
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1.1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:93 +0x44
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).callConsumer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:166 +0x1f2
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).notifyNewFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:141 +0x4a7
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:97 +0x59

Goroutine 156 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:73 +0x8b7
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 157 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:96 +0x6d1
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
==================
WARNING: DATA RACE
Write at 0x00c0000d4900 by goroutine 166:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Add()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:46 +0x224
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1.1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:93 +0x44
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).callConsumer()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:166 +0x1f2
  rubrik/callisto/cdc/publisher/scanner.(*DirectoryTracker).notifyNewFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker.go:141 +0x4a7
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1.2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:97 +0x59

Previous read at 0x00c0000d4900 by goroutine 165:
  rubrik/callisto/cdc/publisher/scanner.(*OrderedStringSet).Size()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/live_stream_utils.go:78 +0x904
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:113 +0x912
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 166 (running) created at:
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:96 +0x6d1
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 165 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/cdc/publisher/scanner.TestAddNewFiles()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/cdc/publisher/scanner/directory_tracker_test.go:73 +0x8b7
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestAddNewFiles (0.45s)
    --- FAIL: TestAddNewFiles/New_files (0.11s)
        testing.go:1446: race detected during execution of test
    --- FAIL: TestAddNewFiles/non_primary_event_file (0.11s)
        testing.go:1446: race detected during execution of test
    testing.go:1446: race detected during execution of test
{"level": "ERROR", "instant": {"epochSecond": 1700556523, "nanoOfSecond": 584802075}, "parentSpanId": "${ctx:parentSpanId}", "spanId": "${ctx:spanId}", "tracerId": "${ctx:tracerId}", "ndc": "${ctx:ndc}", "loggerName": "callisto/cdc/publisher/common/datarecord/data_record_reader.go:246", "threadId": 166, "message": "[error=EOF] failed to reset reader to read from new offset 549"}
FAIL
FAIL  rubrik/callisto/cdc/publisher/scanner 13.561s
ok    rubrik/callisto/cdc/publisher/scanner/deletes 3.110s
ok    rubrik/callisto/cdc/publisher/store (cached)
ok    rubrik/callisto/cdc/publisher/store/models  (cached)
ok    rubrik/callisto/cdc/publisher/store/repositories  (cached)
ok    rubrik/callisto/cdc/publisher/utils (cached)
ok    rubrik/callisto/cockroachconstructs (cached)
ok    rubrik/callisto/common/utils/errorutils (cached)
ok    rubrik/callisto/common/utils/stringutils  (cached)
==================
WARNING: DATA RACE
Write at 0x00c000124c20 by goroutine 36:
  rubrik/callisto/election/consensus.(*QuorumGroup).TransitionState()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/quorum_group.go:64 +0x16e
  rubrik/callisto/election.TestConsensusService_HeartBeat.func8()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/quorum_service_test.go:352 +0x995
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous read at 0x00c000124c20 by goroutine 39:
  rubrik/callisto/election/consensus.(*QuorumGroup).StartElection()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/quorum_group.go:46 +0x8b
  rubrik/callisto/election.(*QuorumService).startElection.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/quorum_service.go:70 +0x3e

Goroutine 36 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/election.TestConsensusService_HeartBeat()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/quorum_service_test.go:312 +0x1d9a
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 39 (running) created at:
  rubrik/callisto/election.(*QuorumService).startElection()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/quorum_service.go:69 +0xab
  rubrik/callisto/election.(*QuorumService).serve.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/quorum_service.go:111 +0x3e
==================
==================
WARNING: DATA RACE
Write at 0x00c000012080 by goroutine 72:
  rubrik/callisto/election/consensus.(*LeaderState).Enter()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_leader.go:37 +0x77
  rubrik/callisto/election/consensus.(*QuorumGroup).StartElection()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/quorum_group.go:46 +0xa3
  rubrik/callisto/election.(*QuorumService).startElection.func1()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/quorum_service.go:70 +0x3e

Previous read at 0x00c000012080 by goroutine 69:
  rubrik/callisto/election/consensus.(*LeaderState).Enter()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_leader.go:43 +0x1b9
  rubrik/callisto/election/consensus.(*QuorumGroup).TransitionState()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/quorum_group.go:65 +0x1d2
  rubrik/callisto/election.TestConsensusService_HeartBeat.func8()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/quorum_service_test.go:352 +0x995
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 72 (running) created at:
  rubrik/callisto/election.(*QuorumService).startElection()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/quorum_service.go:69 +0xab
  rubrik/callisto/election.(*QuorumService).serve.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/quorum_service.go:111 +0x3e

Goroutine 69 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/election.TestConsensusService_HeartBeat()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/quorum_service_test.go:312 +0x1d9a
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestConsensusService_HeartBeat (14.03s)
    --- FAIL: TestConsensusService_HeartBeat/reject_heartbeat_as_a_leader,_with_lower_term_than_current (2.01s)
        testing.go:1446: race detected during execution of test
    --- FAIL: TestConsensusService_HeartBeat/accept_heartbeat_as_a_leader,_with_higher_term_than_current (2.00s)
        testing.go:1446: race detected during execution of test
    testing.go:1446: race detected during execution of test
FAIL
FAIL  rubrik/callisto/election  14.044s
==================
WARNING: DATA RACE
Write at 0x00c000012a88 by goroutine 86:
  rubrik/callisto/election/consensus.(*FollowerState).Exit()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower.go:74 +0x272
  rubrik/callisto/election/consensus.TestFollowerState_Enter.func6()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower_test.go:262 +0x5d2
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous read at 0x00c000012a88 by goroutine 87:
  rubrik/callisto/election/consensus.(*FollowerState).waitForSingleElectionTerm()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower.go:142 +0x73
  rubrik/callisto/election/consensus.(*FollowerState).waitInLoopForElectionToStart()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower.go:118 +0x308
  rubrik/callisto/election/consensus.(*FollowerState).Enter.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower.go:58 +0x39

Goroutine 86 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/election/consensus.TestFollowerState_Enter()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower_test.go:221 +0x8e4
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 87 (running) created at:
  rubrik/callisto/election/consensus.(*FollowerState).Enter()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower.go:58 +0x246
  rubrik/callisto/election/consensus.TestFollowerState_Enter.func6()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower_test.go:227 +0x311
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestFollowerState_Enter (18.01s)
    --- FAIL: TestFollowerState_Enter/Enter_follower_state_from_leader (0.00s)
        testing.go:1446: race detected during execution of test
    testing.go:1446: race detected during execution of test
==================
WARNING: DATA RACE
Write at 0x00c0002c0110 by goroutine 156:
  rubrik/callisto/election/consensus.(*FollowerState).Exit()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower.go:74 +0x272
  rubrik/callisto/election/consensus.TestBaseNodeState_Exit.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower_test.go:329 +0x2ee
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Previous read at 0x00c0002c0110 by goroutine 157:
  rubrik/callisto/election/consensus.(*FollowerState).waitForSingleElectionTerm()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower.go:142 +0x73
  rubrik/callisto/election/consensus.(*FollowerState).waitInLoopForElectionToStart()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower.go:118 +0x308
  rubrik/callisto/election/consensus.(*FollowerState).Enter.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower.go:58 +0x39

Goroutine 156 (running) created at:
  testing.(*T).Run()
      /usr/local/go/src/testing/testing.go:1629 +0x805
  rubrik/callisto/election/consensus.TestBaseNodeState_Exit()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower_test.go:321 +0x27c
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47

Goroutine 157 (running) created at:
  rubrik/callisto/election/consensus.(*FollowerState).Enter()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower.go:58 +0x246
  rubrik/callisto/election/consensus.TestBaseNodeState_Exit.func2()
      /home/ubuntu/Documents/projects/sdmain/src/go/src/rubrik/callisto/election/consensus/state_follower_test.go:327 +0x2e4
  testing.tRunner()
      /usr/local/go/src/testing/testing.go:1576 +0x216
  testing.(*T).Run.func1()
      /usr/local/go/src/testing/testing.go:1629 +0x47
==================
--- FAIL: TestBaseNodeState_Exit (0.00s)
    --- FAIL: TestBaseNodeState_Exit/stateTransitionCtx_should_be_nil_after_exit (0.00s)
        testing.go:1446: race detected during execution of test
    testing.go:1446: race detected during execution of test
FAIL
FAIL  rubrik/callisto/election/consensus  20.047s
FAIL

-------------------- Output of command ends --------------------
Traceback (most recent call last):
  File "./src/go/BUILD.py", line 399, in <module>
    + ['-timeout', TEST_TIMEOUT])
  File "./src/go/BUILD.py", line 217, in check_package_and_run
    output = run(run_params)
  File "./src/go/BUILD.py", line 52, in run
    return subprocess.check_output(cmd, stderr=subprocess.STDOUT)
  File "/usr/lib/python2.7/subprocess.py", line 223, in check_output
    raise CalledProcessError(retcode, cmd, output=output)
subprocess.CalledProcessError: Command '['/usr/local/go/bin/go', 'test', '-race', '-timeout', '120m', './callisto/...']' returned non-zero exit status 1